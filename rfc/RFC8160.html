<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
 <head profile="http://dublincore.org/documents/2008/08/04/dc-html/"> 
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /> 
  <meta name="robots" content="index,follow" /> 
  <meta name="creator" content="rfcmarkup version 1.127" /> 
  <link rel="schema.DC" href="http://purl.org/dc/elements/1.1/" /> 
  <meta name="DC.Identifier" content="urn:ietf:rfc:8160" /> 
  <meta name="DC.Description.Abstract" content="This document specifies a new opcode in the Secure Shell terminal
modes encoding. The new opcode describes the widely used IUTF8
terminal mode bit, which indicates that terminal I/O uses UTF-8
character encoding." /> 
  <meta name="DC.Creator" content="Tatham, Simon" /> 
  <meta name="DC.Creator" content="Tucker, Darren" /> 
  <meta name="DC.Date.Issued" content="April, 2017" /> 
  <meta name="DC.Title" content="IUTF8 Terminal Mode in Secure Shell (SSH)" /> 
  <link rel="icon" href="/images/rfc.png" type="image/png" /> 
  <link rel="shortcut icon" href="/images/rfc.png" type="image/png" /> 
  <title>RFC 8160 - IUTF8 Terminal Mode in Secure Shell (SSH)</title> 
  <style type="text/css">
	@media only screen 
	  and (min-width: 992px)
	  and (max-width: 1199px) {
	    body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-width: 768px)
	  and (max-width: 991px) {
            body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-width: 480px)
	  and (max-width: 767px) {
            body { font-size: 11pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (max-width: 479px) {
            body { font-size: 8pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-device-width : 375px) 
	  and (max-device-width : 667px) {
            body { font-size: 9.5pt; }
            div.content { width: 96ex; margin: 0 1px; }
        }
	@media only screen 
	  and (min-device-width: 1200px) {
            body { font-size: 10pt; margin: 0 4em; }
            div.content { width: 96ex; margin: 0; }
        }
        h1, h2, h3, h4, h5, h6, .h1, .h2, .h3, .h4, .h5, .h6 {
	    font-weight: bold;
            line-height: 0pt;
            display: inline;
            white-space: pre;
            font-family: monospace;
            font-size: 1em;
	    font-weight: bold;
        }
        pre {
            font-size: 1em;
            margin-top: 0px;
            margin-bottom: 0px;
        }
	.pre {
	    white-space: pre;
	    font-family: monospace;
	}
	.header{
	    font-weight: bold;
	}
        .newpage {
            page-break-before: always;
        }
        .invisible {
            text-decoration: none;
            color: white;
        }
        a.selflink {
          color: black;
          text-decoration: none;
        }
        @media print {
            body {
                font-family: monospace;
                font-size: 10.5pt;
            }
            h1, h2, h3, h4, h5, h6 {
                font-size: 1em;
            }
        
            a:link, a:visited {
                color: inherit;
                text-decoration: none;
            }
            .noprint {
                display: none;
            }
        }
	@media screen {
	    .grey, .grey a:link, .grey a:visited {
		color: #777;
	    }
            .docinfo {
                background-color: #EEE;
            }
            .top {
                border-top: 7px solid #EEE;
            }
            .bgwhite  { background-color: white; }
            .bgred    { background-color: #F44; }
            .bggrey   { background-color: #666; }
            .bgbrown  { background-color: #840; }            
            .bgorange { background-color: #FA0; }
            .bgyellow { background-color: #EE0; }
            .bgmagenta{ background-color: #F4F; }
            .bgblue   { background-color: #66F; }
            .bgcyan   { background-color: #4DD; }
            .bggreen  { background-color: #4F4; }

            .legend   { font-size: 90%; }
            .cplate   { font-size: 70%; border: solid grey 1px; }
	}
    </style> 
  <!--[if IE]>
    <style>
    body {
       font-size: 13px;
       margin: 10px 10px;
    }
    </style>
    <![endif]--> 
  <script type="text/javascript"><!--
    function addHeaderTags() {
	var spans = document.getElementsByTagName("span");
	for (var i=0; i < spans.length; i++) {
	    var elem = spans[i];
	    if (elem) {
		var level = elem.getAttribute("class");
                if (level == "h1" || level == "h2" || level == "h3" || level == "h4" || level == "h5" || level == "h6") {
                    elem.innerHTML = "<"+level+">"+elem.innerHTML+"</"+level+">";		
                }
	    }
	}
    }
    var legend_html = "Colour legend:<br />      <table>         <tr><td>Unknown:</td>                   <td><span class='cplate bgwhite'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Draft:</td>                     <td><span class='cplate bgred'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Informational:</td>             <td><span class='cplate bgorange'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Experimental:</td>              <td><span class='cplate bgyellow'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Best Common Practice:</td>      <td><span class='cplate bgmagenta'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Proposed Standard:</td>         <td><span class='cplate bgblue'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Draft Standard (old designation):</td> <td><span class='cplate bgcyan'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Internet Standard:</td>         <td><span class='cplate bggreen'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Historic:</td>                  <td><span class='cplate bggrey'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Obsolete:</td>                  <td><span class='cplate bgbrown'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>     </table>";
    function showElem(id) {
        var elem = document.getElementById(id);
        elem.innerHTML = eval(id+"_html");
        elem.style.visibility='visible';
    }
    function hideElem(id) {
        var elem = document.getElementById(id);
        elem.style.visibility='hidden';        
        elem.innerHTML = "";
    }
    // -->
    </script> 
 </head> 
 <body onload="addHeaderTags()"> 
  <div class="content"> 
   <div style="height: 13px;"> 
    <div onmouseover="this.style.cursor='pointer';" onclick="showElem('legend');" onmouseout="hideElem('legend')" style="height: 6px; position: absolute;" class="pre noprint docinfo bgblue" title="Click for colour legend."> 
    </div> 
    <div id="legend" class="docinfo noprint pre legend" style="position:absolute; top: 4px; left: 4ex; visibility:hidden; background-color: white; padding: 4px 9px 5px 7px; border: solid #345 1px; " onmouseover="showElem('legend');" onmouseout="hideElem('legend');"> 
    </div> 
   </div> 
   <span class="pre noprint docinfo top">[<a href="https://tools.ietf.org/html/" title="Document search and retrieval page">Docs</a>] [<a href="https://tools.ietf.org/rfc/rfc8160.txt" title="Plaintext version of this document">txt</a>|<a href="https://tools.ietf.org/pdf/rfc8160" title="PDF version of this document">pdf</a>] [<a href="https://tools.ietf.org/html/draft-sgtatham-secsh-iutf8" title="draft-sgtatham-secsh-iutf8">draft-sgtatham-...</a>] [<a href="https://datatracker.ietf.org/doc/rfc8160" title="IESG Datatracker information for this document">Tracker</a>] [<a href="https://tools.ietf.org/rfcdiff?difftype=--hwdiff&amp;url2=rfc8160" title="Inline diff (wdiff)">Diff1</a>] [<a href="https://tools.ietf.org/rfcdiff?url2=rfc8160" title="Side-by-side diff">Diff2</a>] </span>
   <br /> 
   <span class="pre noprint docinfo"> </span>
   <br /> 
   <span class="pre noprint docinfo"> PROPOSED STANDARD</span>
   <br /> 
   <span class="pre noprint docinfo"> </span>
   <br /> 
   <pre>Internet Engineering Task Force (IETF)                         S. Tatham
Request for Comments: 8160                                         PuTTY
Category: Standards Track                                      D. Tucker
ISSN: 2070-1721                                                  OpenSSH
                                                              April 2017


               <span class="h1"><h1>IUTF8 Terminal Mode in Secure Shell (SSH)</h1></span>

Abstract

   This document specifies a new opcode in the Secure Shell terminal
   modes encoding.  The new opcode describes the widely used IUTF8
   terminal mode bit, which indicates that terminal I/O uses UTF-8
   character encoding.

Status of This Memo

   This is an Internet Standards Track document.

   This document is a product of the Internet Engineering Task Force
   (IETF).  It represents the consensus of the IETF community.  It has
   received public review and has been approved for publication by the
   Internet Engineering Steering Group (IESG).  Further information on
   Internet Standards is available in <a href="https://tools.ietf.org/html/rfc7841#section-2">Section&nbsp;2 of RFC 7841</a>.

   Information about the current status of this document, any errata,
   and how to provide feedback on it may be obtained at
   <a href="http://www.rfc-editor.org/info/rfc8160">http://www.rfc-editor.org/info/rfc8160</a>.

Copyright Notice

   Copyright (c) 2017 IETF Trust and the persons identified as the
   document authors.  All rights reserved.

   This document is subject to <a href="https://tools.ietf.org/html/bcp78">BCP 78</a> and the IETF Trust's Legal
   Provisions Relating to IETF Documents
   (<a href="http://trustee.ietf.org/license-info">http://trustee.ietf.org/license-info</a>) in effect on the date of
   publication of this document.  Please review these documents
   carefully, as they describe your rights and restrictions with respect
   to this document.  Code Components extracted from this document must
   include Simplified BSD License text as described in Section 4.e of
   the Trust Legal Provisions and are provided without warranty as
   described in the Simplified BSD License.







<span class="grey">Tatham &amp; Tucker              Standards Track                    [Page 1]</span></pre> 
   <hr class="noprint" style="width: 96ex;" align="left" />
   <!--NewPage-->
   <pre class="newpage"><a name="page-2" id="page-2" href="https://tools.ietf.org/html/rfc8160#page-2" class="invisible"> </a>
<span class="grey"><a href="https://tools.ietf.org/html/rfc8160">RFC 8160</a>               IUTF8 Terminal Mode in SSH             April 2017</span>


Table of Contents

   <a href="https://tools.ietf.org/html/rfc8160#section-1">1</a>.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . .   <a href="https://tools.ietf.org/html/rfc8160#page-2">2</a>
   <a href="https://tools.ietf.org/html/rfc8160#section-2">2</a>.  Conventions Used in This Document . . . . . . . . . . . . . .   <a href="https://tools.ietf.org/html/rfc8160#page-2">2</a>
   <a href="https://tools.ietf.org/html/rfc8160#section-3">3</a>.  New IUTF8 Opcode for Terminal Mode Encoding . . . . . . . . .   <a href="https://tools.ietf.org/html/rfc8160#page-2">2</a>
   <a href="https://tools.ietf.org/html/rfc8160#section-4">4</a>.  IANA Considerations . . . . . . . . . . . . . . . . . . . . .   <a href="https://tools.ietf.org/html/rfc8160#page-3">3</a>
   <a href="https://tools.ietf.org/html/rfc8160#section-5">5</a>.  Security Considerations . . . . . . . . . . . . . . . . . . .   <a href="https://tools.ietf.org/html/rfc8160#page-3">3</a>
   <a href="https://tools.ietf.org/html/rfc8160#section-6">6</a>.  References  . . . . . . . . . . . . . . . . . . . . . . . . .   <a href="https://tools.ietf.org/html/rfc8160#page-3">3</a>
     <a href="https://tools.ietf.org/html/rfc8160#section-6.1">6.1</a>.  Normative References  . . . . . . . . . . . . . . . . . .   <a href="https://tools.ietf.org/html/rfc8160#page-3">3</a>
     <a href="https://tools.ietf.org/html/rfc8160#section-6.2">6.2</a>.  Informative References  . . . . . . . . . . . . . . . . .   <a href="https://tools.ietf.org/html/rfc8160#page-3">3</a>
   Acknowledgements  . . . . . . . . . . . . . . . . . . . . . . . .   <a href="https://tools.ietf.org/html/rfc8160#page-4">4</a>
   Authors' Addresses  . . . . . . . . . . . . . . . . . . . . . . .   <a href="https://tools.ietf.org/html/rfc8160#page-4">4</a>

<span class="h2"><h2><a class="selflink" name="section-1" href="https://tools.ietf.org/html/rfc8160#section-1">1</a>. Introduction</h2></span>

   The Secure Shell (SSH) connection protocol [<a href="https://tools.ietf.org/html/rfc4254" title="&quot;The Secure Shell (SSH) Connection Protocol&quot;">RFC4254</a>] provides an
   encoding for terminal modes, used in the &quot;pty-req&quot; channel request
   type.

   A commonly used terminal mode is IUTF8, which indicates that the
   terminal driver should assume that terminal I/O uses the UTF-8
   character encoding [<a href="https://tools.ietf.org/html/rfc3629" title="&quot;UTF-8, a transformation format of ISO 10646&quot;">RFC3629</a>].  This is typically used by the kernel's
   terminal driver on the server to decide how many bytes of input to
   treat as a single logical character during line editing.

   SSH does not currently provide an encoding for IUTF8.  This document
   specifies one.

<span class="h2"><h2><a class="selflink" name="section-2" href="https://tools.ietf.org/html/rfc8160#section-2">2</a>. Conventions Used in This Document</h2></span>

   The key words &quot;MUST&quot;, &quot;MUST NOT&quot;, &quot;REQUIRED&quot;, &quot;SHALL&quot;, &quot;SHALL NOT&quot;,
   &quot;SHOULD&quot;, &quot;SHOULD NOT&quot;, &quot;RECOMMENDED&quot;, &quot;MAY&quot;, and &quot;OPTIONAL&quot; in this
   document are to be interpreted as described in [<a href="https://tools.ietf.org/html/rfc2119" title="&quot;Key words for use in RFCs to Indicate Requirement Levels&quot;">RFC2119</a>].

<span class="h2"><h2><a class="selflink" name="section-3" href="https://tools.ietf.org/html/rfc8160#section-3">3</a>. New IUTF8 Opcode for Terminal Mode Encoding</h2></span>

   The opcode value 42 is defined for the IUTF8 terminal mode.

   As specified in <a href="https://tools.ietf.org/html/rfc4254#section-8">Section&nbsp;8 of [RFC4254]</a>, all opcodes in the range 1 to
   159 have a single uint32 argument; therefore, the IUTF8 opcode is
   followed by a single uint32 argument.  The value 0 indicates that the
   IUTF8 mode is disabled, and the value 1 indicates that it is enabled.

   As with all other encoded terminal modes, the client SHOULD transmit
   a value for this mode if it knows about one, and the server MAY
   ignore it.





<span class="grey">Tatham &amp; Tucker              Standards Track                    [Page 2]</span></pre> 
   <hr class="noprint" style="width: 96ex;" align="left" />
   <!--NewPage-->
   <pre class="newpage"><a name="page-3" id="page-3" href="https://tools.ietf.org/html/rfc8160#page-3" class="invisible"> </a>
<span class="grey"><a href="https://tools.ietf.org/html/rfc8160">RFC 8160</a>               IUTF8 Terminal Mode in SSH             April 2017</span>


<span class="h2"><h2><a class="selflink" name="section-4" href="https://tools.ietf.org/html/rfc8160#section-4">4</a>. IANA Considerations</h2></span>

   This document augments the list of &quot;Pseudo-Terminal Encoded Terminal
   Modes&quot; defined in <a href="https://tools.ietf.org/html/rfc4254#section-8">Section&nbsp;8 of [RFC4254]</a>.

   IANA has added the following opcode to the &quot;Pseudo-Terminal Encoded
   Terminal Modes&quot; registry:

   opcode  mnemonic       description
   ------  --------       -----------
   42      IUTF8          Terminal input and output is assumed to be
                           encoded in UTF-8.

<span class="h2"><h2><a class="selflink" name="section-5" href="https://tools.ietf.org/html/rfc8160#section-5">5</a>. Security Considerations</h2></span>

   The security considerations of [<a href="https://tools.ietf.org/html/rfc4254" title="&quot;The Secure Shell (SSH) Connection Protocol&quot;">RFC4254</a>] apply.  This additional
   terminal mode encoding is believed to have no security implications
   differing from the existing set of encoded terminal modes.

   Since the IUTF8 terminal mode is intended for use in conjunction with
   the UTF-8 character encoding, the security considerations of
   [<a href="https://tools.ietf.org/html/rfc3629" title="&quot;UTF-8, a transformation format of ISO 10646&quot;">RFC3629</a>] also apply to systems in which this mode is enabled.  In
   particular, terminal drivers that interpret this bit as enabling
   UTF-8-aware line-editing behavior should carefully consider how that
   behavior will treat illegal sequences, overlong encodings, and
   redundant representations of composed characters (see [<a href="https://tools.ietf.org/html/rfc8160#ref-UNICODE" title="&quot;The Unicode Standard&quot;">UNICODE</a>]).

<span class="h2"><h2><a class="selflink" name="section-6" href="https://tools.ietf.org/html/rfc8160#section-6">6</a>. References</h2></span>

<span class="h3"><h3><a class="selflink" name="section-6.1" href="https://tools.ietf.org/html/rfc8160#section-6.1">6.1</a>. Normative References</h3></span>

   [<a name="ref-RFC2119" id="ref-RFC2119">RFC2119</a>]  Bradner, S., &quot;Key words for use in RFCs to Indicate
              Requirement Levels&quot;, <a href="https://tools.ietf.org/html/bcp14">BCP 14</a>, <a href="https://tools.ietf.org/html/rfc2119">RFC 2119</a>,
              DOI 10.17487/RFC2119, March 1997,
              &lt;<a href="http://www.rfc-editor.org/info/rfc2119">http://www.rfc-editor.org/info/rfc2119</a>&gt;.

   [<a name="ref-RFC3629" id="ref-RFC3629">RFC3629</a>]  Yergeau, F., &quot;UTF-8, a transformation format of ISO
              10646&quot;, STD 63, <a href="https://tools.ietf.org/html/rfc3629">RFC 3629</a>, DOI 10.17487/RFC3629, November
              2003, &lt;<a href="http://www.rfc-editor.org/info/rfc3629">http://www.rfc-editor.org/info/rfc3629</a>&gt;.

   [<a name="ref-RFC4254" id="ref-RFC4254">RFC4254</a>]  Ylonen, T. and C. Lonvick, Ed., &quot;The Secure Shell (SSH)
              Connection Protocol&quot;, <a href="https://tools.ietf.org/html/rfc4254">RFC 4254</a>, DOI 10.17487/RFC4254,
              January 2006, &lt;<a href="http://www.rfc-editor.org/info/rfc4254">http://www.rfc-editor.org/info/rfc4254</a>&gt;.

<span class="h3"><h3><a class="selflink" name="section-6.2" href="https://tools.ietf.org/html/rfc8160#section-6.2">6.2</a>. Informative References</h3></span>

   [<a name="ref-UNICODE" id="ref-UNICODE">UNICODE</a>]  The Unicode Consortium, &quot;The Unicode Standard&quot;,
              &lt;<a href="http://www.unicode.org/versions/latest/">http://www.unicode.org/versions/latest/</a>&gt;.



<span class="grey">Tatham &amp; Tucker              Standards Track                    [Page 3]</span></pre> 
   <hr class="noprint" style="width: 96ex;" align="left" />
   <!--NewPage-->
   <pre class="newpage"><a name="page-4" id="page-4" href="https://tools.ietf.org/html/rfc8160#page-4" class="invisible"> </a>
<span class="grey"><a href="https://tools.ietf.org/html/rfc8160">RFC 8160</a>               IUTF8 Terminal Mode in SSH             April 2017</span>


Acknowledgements

   The authors are indebted to Colin Watson for originally suggesting
   this terminal mode in 2005, and David Madore and Jakub Jelen for
   prior implementation efforts.

Authors' Addresses

   Simon Tatham
   PuTTY

   Email: anakin@pobox.com


   Darren Tucker
   OpenSSH

   Email: dtucker@openssh.com

































Tatham &amp; Tucker              Standards Track                    [Page 4]

</pre>
   <br /> 
   <span class="noprint"><small><small>Html markup produced by rfcmarkup 1.127, available from <a href="https://tools.ietf.org/tools/rfcmarkup/">https://tools.ietf.org/tools/rfcmarkup/</a> </small></small></span> 
  </div> 
 </body>
</html>