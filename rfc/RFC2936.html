<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
 <head profile="http://dublincore.org/documents/2008/08/04/dc-html/"> 
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /> 
  <meta name="robots" content="index,follow" /> 
  <meta name="creator" content="rfcmarkup version 1.127" /> 
  <link rel="schema.DC" href="http://purl.org/dc/elements/1.1/" /> 
  <meta name="DC.Identifier" content="urn:ietf:rfc:2936" /> 
  <meta name="DC.Description.Abstract" content="Entities composing web pages to provide services over HTTP frequently
have the problem of not knowing what MIME types have handlers
installed at a user's browser. For example, whether an IOTP or VRML
or SET or some streaming media handler is available. In some cases
they would want to display different web pages or content depending on
a MIME handler's availability. This document summarizes reasonable
techniques to solve this problem for most of the browsers actually
deployed on the Internet as of early 2000. It is intended to be of
practical use to implementors during the period before the wide
deployment of superior standards based techniques which may be
developed." /> 
  <meta name="DC.Creator" content="3rd, D. Eastlake" /> 
  <meta name="DC.Creator" content="Soroka, D." /> 
  <meta name="DC.Creator" content="Smith, C." /> 
  <meta name="DC.Date.Issued" content="September, 2000" /> 
  <meta name="DC.Title" content="HTTP MIME Type Handler Detection ---- ---- ---- ------- ---------" /> 
  <link rel="icon" href="/images/rfc.png" type="image/png" /> 
  <link rel="shortcut icon" href="/images/rfc.png" type="image/png" /> 
  <title>RFC 2936 - HTTP MIME Type Handler Detection ---- ---- ---- ------- ---------</title> 
  <style type="text/css">
	@media only screen 
	  and (min-width: 992px)
	  and (max-width: 1199px) {
	    body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-width: 768px)
	  and (max-width: 991px) {
            body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-width: 480px)
	  and (max-width: 767px) {
            body { font-size: 11pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (max-width: 479px) {
            body { font-size: 8pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-device-width : 375px) 
	  and (max-device-width : 667px) {
            body { font-size: 9.5pt; }
            div.content { width: 96ex; margin: 0 1px; }
        }
	@media only screen 
	  and (min-device-width: 1200px) {
            body { font-size: 10pt; margin: 0 4em; }
            div.content { width: 96ex; margin: 0; }
        }
        h1, h2, h3, h4, h5, h6, .h1, .h2, .h3, .h4, .h5, .h6 {
	    font-weight: bold;
            line-height: 0pt;
            display: inline;
            white-space: pre;
            font-family: monospace;
            font-size: 1em;
	    font-weight: bold;
        }
        pre {
            font-size: 1em;
            margin-top: 0px;
            margin-bottom: 0px;
        }
	.pre {
	    white-space: pre;
	    font-family: monospace;
	}
	.header{
	    font-weight: bold;
	}
        .newpage {
            page-break-before: always;
        }
        .invisible {
            text-decoration: none;
            color: white;
        }
        a.selflink {
          color: black;
          text-decoration: none;
        }
        @media print {
            body {
                font-family: monospace;
                font-size: 10.5pt;
            }
            h1, h2, h3, h4, h5, h6 {
                font-size: 1em;
            }
        
            a:link, a:visited {
                color: inherit;
                text-decoration: none;
            }
            .noprint {
                display: none;
            }
        }
	@media screen {
	    .grey, .grey a:link, .grey a:visited {
		color: #777;
	    }
            .docinfo {
                background-color: #EEE;
            }
            .top {
                border-top: 7px solid #EEE;
            }
            .bgwhite  { background-color: white; }
            .bgred    { background-color: #F44; }
            .bggrey   { background-color: #666; }
            .bgbrown  { background-color: #840; }            
            .bgorange { background-color: #FA0; }
            .bgyellow { background-color: #EE0; }
            .bgmagenta{ background-color: #F4F; }
            .bgblue   { background-color: #66F; }
            .bgcyan   { background-color: #4DD; }
            .bggreen  { background-color: #4F4; }

            .legend   { font-size: 90%; }
            .cplate   { font-size: 70%; border: solid grey 1px; }
	}
    </style> 
  <!--[if IE]>
    <style>
    body {
       font-size: 13px;
       margin: 10px 10px;
    }
    </style>
    <![endif]--> 
  <script type="text/javascript"><!--
    function addHeaderTags() {
	var spans = document.getElementsByTagName("span");
	for (var i=0; i < spans.length; i++) {
	    var elem = spans[i];
	    if (elem) {
		var level = elem.getAttribute("class");
                if (level == "h1" || level == "h2" || level == "h3" || level == "h4" || level == "h5" || level == "h6") {
                    elem.innerHTML = "<"+level+">"+elem.innerHTML+"</"+level+">";		
                }
	    }
	}
    }
    var legend_html = "Colour legend:<br />      <table>         <tr><td>Unknown:</td>                   <td><span class='cplate bgwhite'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Draft:</td>                     <td><span class='cplate bgred'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Informational:</td>             <td><span class='cplate bgorange'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Experimental:</td>              <td><span class='cplate bgyellow'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Best Common Practice:</td>      <td><span class='cplate bgmagenta'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Proposed Standard:</td>         <td><span class='cplate bgblue'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Draft Standard (old designation):</td> <td><span class='cplate bgcyan'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Internet Standard:</td>         <td><span class='cplate bggreen'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Historic:</td>                  <td><span class='cplate bggrey'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Obsolete:</td>                  <td><span class='cplate bgbrown'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>     </table>";
    function showElem(id) {
        var elem = document.getElementById(id);
        elem.innerHTML = eval(id+"_html");
        elem.style.visibility='visible';
    }
    function hideElem(id) {
        var elem = document.getElementById(id);
        elem.style.visibility='hidden';        
        elem.innerHTML = "";
    }
    // -->
    </script> 
 </head> 
 <body onload="addHeaderTags()"> 
  <div class="content"> 
   <div style="height: 13px;"> 
    <div onmouseover="this.style.cursor='pointer';" onclick="showElem('legend');" onmouseout="hideElem('legend')" style="height: 6px; position: absolute;" class="pre noprint docinfo bgorange" title="Click for colour legend."> 
    </div> 
    <div id="legend" class="docinfo noprint pre legend" style="position:absolute; top: 4px; left: 4ex; visibility:hidden; background-color: white; padding: 4px 9px 5px 7px; border: solid #345 1px; " onmouseover="showElem('legend');" onmouseout="hideElem('legend');"> 
    </div> 
   </div> 
   <span class="pre noprint docinfo top">[<a href="https://tools.ietf.org/html/" title="Document search and retrieval page">Docs</a>] [<a href="https://tools.ietf.org/rfc/rfc2936.txt" title="Plaintext version of this document">txt</a>|<a href="https://tools.ietf.org/pdf/rfc2936" title="PDF version of this document">pdf</a>] [<a href="https://tools.ietf.org/html/draft-ietf-trade-mime-detector" title="draft-ietf-trade-mime-detector">draft-ietf-trad...</a>] [<a href="https://datatracker.ietf.org/doc/rfc2936" title="IESG Datatracker information for this document">Tracker</a>] [<a href="https://tools.ietf.org/rfcdiff?difftype=--hwdiff&amp;url2=rfc2936" title="Inline diff (wdiff)">Diff1</a>] [<a href="https://tools.ietf.org/rfcdiff?url2=rfc2936" title="Side-by-side diff">Diff2</a>] </span>
   <br /> 
   <span class="pre noprint docinfo"> </span>
   <br /> 
   <span class="pre noprint docinfo"> INFORMATIONAL</span>
   <br /> 
   <span class="pre noprint docinfo"> </span>
   <br /> 
   <pre>Network Working Group                                         D. Eastlake
Request for Comments: 2936                                       Motorola
Category: Informational                                          C. Smith
                                                     Royal Bank of Canada
                                                                D. Soroka
                                                                      IBM
                                                           September 2000


                    <span class="h1"><h1>HTTP MIME Type Handler Detection</h1></span>

Status of this Memo

   This memo provides information for the Internet community.  It does
   not specify an Internet standard of any kind.  Distribution of this
   memo is unlimited.

Copyright Notice

   Copyright (C) The Internet Society (2000).  All Rights Reserved.

Abstract

   Entities composing web pages to provide services over the Hypertext
   Transfer Protocol (HTTP) frequently have the problem of not knowing
   what Multipurpose Internet Mail Extensions (MIME) types have handlers
   installed at a user's browser.  For example, whether an Internet Open
   Trading Protocol (IOTP) or VRML or SET or some streaming media
   handler is available.  In some cases they would want to display
   different web pages or content depending on a MIME handler's
   availability.  This document summarizes reasonable techniques to
   solve this problem for most of the browsers actually deployed on the
   Internet as of early 2000.  It is intended to be of practical use to
   implementors during the period before the wide deployment of superior
   standards based techniques which may be developed.

Acknowledegements

   Helpful comments by Tony Lewis of Visa have been incorporated.












<span class="grey">Eastlake, et al.             Informational                      [Page 1]</span></pre> 
   <hr class="noprint" style="width: 96ex;" align="left" />
   <!--NewPage-->
   <pre class="newpage"><a name="page-2" id="page-2" href="https://tools.ietf.org/html/rfc2936#page-2" class="invisible"> </a>
<span class="grey"><a href="https://tools.ietf.org/html/rfc2936">RFC 2936</a>            HTTP MIME Type Handler Detection      September 2000</span>


Table of Contents

   <a href="https://tools.ietf.org/html/rfc2936#section-1">1</a>. Introduction.................................................  <a href="https://tools.ietf.org/html/rfc2936#page-2">2</a>
   <a href="https://tools.ietf.org/html/rfc2936#section-2">2</a>. The HTTP 'Accept' Header.....................................  <a href="https://tools.ietf.org/html/rfc2936#page-2">2</a>
   <a href="https://tools.ietf.org/html/rfc2936#section-3">3</a>. JavaScript...................................................  <a href="https://tools.ietf.org/html/rfc2936#page-3">3</a>
   <a href="https://tools.ietf.org/html/rfc2936#section-4">4</a>. ActiveX and the Windows Registry.............................  <a href="https://tools.ietf.org/html/rfc2936#page-4">4</a>
   <a href="https://tools.ietf.org/html/rfc2936#section-5">5</a>. ECML, The Electronic Commerce Modeling Language..............  <a href="https://tools.ietf.org/html/rfc2936#page-4">4</a>
   <a href="https://tools.ietf.org/html/rfc2936#section-6">6</a>. Putting It All Together......................................  <a href="https://tools.ietf.org/html/rfc2936#page-5">5</a>
   <a href="https://tools.ietf.org/html/rfc2936#section-7">7</a>. Future Development...........................................  <a href="https://tools.ietf.org/html/rfc2936#page-5">5</a>
   <a href="https://tools.ietf.org/html/rfc2936#section-8">8</a>. Security Considerations......................................  <a href="https://tools.ietf.org/html/rfc2936#page-5">5</a>
   <a href="https://tools.ietf.org/html/rfc2936#section-9">9</a>. IANA Considerations..........................................  <a href="https://tools.ietf.org/html/rfc2936#page-6">6</a>
   References......................................................  <a href="https://tools.ietf.org/html/rfc2936#page-6">6</a>
   <a href="https://tools.ietf.org/html/rfc2936#appendix-A">Appendix A</a>: Browser Version Sniffer Code........................  <a href="https://tools.ietf.org/html/rfc2936#page-8">8</a>
   Authors' Addresses.............................................. <a href="https://tools.ietf.org/html/rfc2936#page-12">12</a>
   Full Copyright Statement........................................ <a href="https://tools.ietf.org/html/rfc2936#page-13">13</a>

<span class="h2"><h2><a class="selflink" name="section-1" href="https://tools.ietf.org/html/rfc2936#section-1">1</a>. Introduction</h2></span>

   Entities composing web pages to provide services over [<a href="https://tools.ietf.org/html/rfc2936#ref-HTTP" title="&quot;Hypertext Transfer Protocol -- HTTP/1.1&quot;">HTTP</a>]
   frequently have the problem of not knowing what [<a href="https://tools.ietf.org/html/rfc2936#ref-MIME" title="&quot;Multipurpose Internet Mail Extensions (MIME) Part Four: Registration Procedures&quot;">MIME</a>] types have
   handlers installed at a user's browser.  For example, whether an
   [<a href="https://tools.ietf.org/html/rfc2936#ref-IOTP" title="&quot;Internet Open Trading Protocol - IOTP Version 1.0&quot;">IOTP</a>] or VRML or [<a href="https://tools.ietf.org/html/rfc2936#ref-SET" title="&quot;Secure Electronic Transaction (SET) Specification, Version 1.0&quot;">SET</a>] or some streaming media handler is available.
   In many cases they would want to display different web pages or
   content depending on a MIME handler's availability.  Sending a
   response with a MIME type that is not supported frequently results in
   interrupting the flow of the user experience, browser queries as to
   what to do with the data being provided, and, of course, failure to
   provide the behavior that would have occurred had the correct MIME
   type handler been installed.

   This document describes reasonable techniques to solve this problem
   for most of the browsers actually deployed on the Internet as of
   early 2000.  It is intended to be of practical use to implementors
   during the period before the wide deployment of superior standards
   based techniques which may be developed.  It is written in terms of
   determining whether a handler for application/iotp or application/x-
   iotp exists but is equally applicable to other MIME types.

<span class="h2"><h2><a class="selflink" name="section-2" href="https://tools.ietf.org/html/rfc2936#section-2">2</a>. The HTTP 'Accept' Header</h2></span>

   The problem should be solved by the Hyper Text Transport Protocol
   [<a href="https://tools.ietf.org/html/rfc2936#ref-HTTP" title="&quot;Hypertext Transfer Protocol -- HTTP/1.1&quot;">HTTP</a>] request &quot;Accept&quot; header which lists accepted [<a href="https://tools.ietf.org/html/rfc2936#ref-MIME" title="&quot;Multipurpose Internet Mail Extensions (MIME) Part Four: Registration Procedures&quot;">MIME</a>] types.
   This header is present in both Version 1.0 and 1.1 of HTTP and its
   content is supposed to be a list of MIME types and subtypes that are
   accepted.  The only problem is that many browsers just send &quot;*/*&quot; or
   the like.





<span class="grey">Eastlake, et al.             Informational                      [Page 2]</span></pre> 
   <hr class="noprint" style="width: 96ex;" align="left" />
   <!--NewPage-->
   <pre class="newpage"><a name="page-3" id="page-3" href="https://tools.ietf.org/html/rfc2936#page-3" class="invisible"> </a>
<span class="grey"><a href="https://tools.ietf.org/html/rfc2936">RFC 2936</a>            HTTP MIME Type Handler Detection      September 2000</span>


   If the particular MIME type you are looking for is specifically
   present in the Accept header, it is generally safe to assume that a
   handler for it is actually installed or part of the browser.

   NOTE: Although not part of the main topic of this document, if you
   are designing MIME type handler software and have access to a browser
   interface that allows you to request the insertion of the MIME type
   or types your software handles into the Accept header, you generally
   should do so.  It will make it easier for servers sensitive to that
   MIME type to respond correctly.

<span class="h2"><h2><a class="selflink" name="section-3" href="https://tools.ietf.org/html/rfc2936#section-3">3</a>. JavaScript</h2></span>

   Most recent browsers support one or more scripting languages of which
   the most widely deployed is &quot;JavaScript&quot;.  These scripting languages
   appear in web pages and permit the interpretive execution of
   programming language constructs that can probe the browser
   environment, conditionally cause different page contents to be
   displayed, etc.  For example, <a href="https://tools.ietf.org/html/rfc2936#appendix-A">Appendix A</a> shows JavaScript available
   from the Netscape web site for determining what operating system,
   browser, and version on which a web page is appearing.

   NOTE: JavaScript is a trademark of SUN Microsystems, Inc.  It was
   originally called LiveScript.  It has nothing to do with the Java
   language.

   The syntax for script use appears to be a Hyper Text Markup Language
   (HTML) comment so that browsers that do not support scripting will
   ignore such items.  That is, script use is preceded by &quot;&lt;!--&quot; and
   terminated by &quot;--&gt;&quot;.  The following is a simple example of
   conditional execution of parts of a web page based on JavaScript MIME
   type handler detection.

   &lt;SCRIPT LANGUAGE=JAVASCRIPT&gt;
   &lt;!-- hide it
   if (navigator.mimeTypes &amp;&amp; navigator.mimeTypes.length &gt; 0) {
     if ( navigator.mimeTypes[&quot;application/iotp&quot;] ||
          navigator.mimeTypes[&quot;application/x-iotp&quot;]) {
       // here if IOTP handler exists
       }
     else {
       // here if IOTP handler does not exist
       }
     }
   // end and hide --&gt;
   &lt;/SCRIPT&gt;





<span class="grey">Eastlake, et al.             Informational                      [Page 3]</span></pre> 
   <hr class="noprint" style="width: 96ex;" align="left" />
   <!--NewPage-->
   <pre class="newpage"><a name="page-4" id="page-4" href="https://tools.ietf.org/html/rfc2936#page-4" class="invisible"> </a>
<span class="grey"><a href="https://tools.ietf.org/html/rfc2936">RFC 2936</a>            HTTP MIME Type Handler Detection      September 2000</span>


<span class="h2"><h2><a class="selflink" name="section-4" href="https://tools.ietf.org/html/rfc2936#section-4">4</a>. ActiveX and the Windows Registry</h2></span>

   If running on Microsoft Windows Internet Explorer version 3 or 4, it
   is necessary to query the Windows Registry to determine local MIME
   type support.  Although these broswers support JavaScript, in v3 the
   mimeTypes array is not present and in v4 the mimeTypes array is
   present but always empty.  For example, executing the following code
   will test for support of the IOTP types:

   CString iotpString, xiotpString;
   char* Key, Keyx;

      int rc, rcx;
      iotpString =
   &quot;SOFTWARE\Classes\MIME\Database\Content Type\application/iotp&quot;;
      xiotpString =
   &quot;SOFTWARE\Classes\MIME\Database\Content Type\application/x-iotp&quot;;
      Key = iotpString.GetBuffer(1);
      Keyx = xiotpString.GetBuffer(1);
      rc = RegOpenKeyEx(HKEY_LOCAL_MACHINE, Key, 0, KEY_READ, hDefKey);
      rcx = RegOpenKeyEx(HKEY_LOCAL_MACHINE, Keyx, 0, KEY_READ, hDefKey);
   if ( ( rc  == ERROR_SUCCESS ) || ( rcx == ERROR_SUCCESS ) )
    {
    // IOTP Handler exists
    }
   else
    {
    // No IOTP Handler
    }

   NOTE: ActiveX is a trademark of Microsoft and was originally called
   Sweeper.

<span class="h2"><h2><a class="selflink" name="section-5" href="https://tools.ietf.org/html/rfc2936#section-5">5</a>. ECML, The Electronic Commerce Modeling Language</h2></span>

   A industry group has recently proposed a standard for fields used in
   electronic commerce.  This fields allow &quot;wallet&quot; software acting for
   the consumer to convey standardized information to a merchant,
   including information as to what payment related protocols are
   supported at the customer site.  See [<a href="https://tools.ietf.org/html/rfc2936#ref-ECML" title="&quot;ECML v1: Field Names for E- Commerce&quot;">ECML</a>].











<span class="grey">Eastlake, et al.             Informational                      [Page 4]</span></pre> 
   <hr class="noprint" style="width: 96ex;" align="left" />
   <!--NewPage-->
   <pre class="newpage"><a name="page-5" id="page-5" href="https://tools.ietf.org/html/rfc2936#page-5" class="invisible"> </a>
<span class="grey"><a href="https://tools.ietf.org/html/rfc2936">RFC 2936</a>            HTTP MIME Type Handler Detection      September 2000</span>


<span class="h2"><h2><a class="selflink" name="section-6" href="https://tools.ietf.org/html/rfc2936#section-6">6</a>. Putting It All Together</h2></span>

   The following diagram indicates how these techniques can be put
   together.

   start&gt;-----+
              |
      +------------------+
      | Was desired type |     NO      +-------------------------+
      |found in Accept?  |------------&gt;| Is JavaScript available |
      +------------------+             |and does it show type?   |
            |                          +-------------------------+
       YES  |                            |         |           |
            |&lt;---------------------------+         |        NO |
            |        YES                           |           |
            |                      +---&lt;explorer&lt;--+           |
            |                      |                           |
            |          +----------------------+                |
            |          | Is ActiveX available |                |
            |          |and does it show type?|                |
            |          +----------------------+                |
            |  YES       |        |         |             NO   |
            |&lt;-----------+        |         +-----------------&gt;|
            |                     V                            |
   remember |               Indeterminate.            remember |
     that   |.              Take default             that type |
   type IS  |               action.                     is NOT |
   supported|                                        supported |
            X done                                             X

<span class="h2"><h2><a class="selflink" name="section-7" href="https://tools.ietf.org/html/rfc2936#section-7">7</a>. Future Development</h2></span>

   Active work is proceeding in the IETF, World Wide Web Consortium
   [<a href="https://tools.ietf.org/html/rfc2936#ref-W3C">W3C</a>], and other standards and industry groups concerning content and
   capabilities negotiation.  This work is likely to lead to superior
   methods to implement the functionality described herein.  However,
   near universal deployment of such new standards/features will take
   some time.  Thus you should expect the methods given herein to be
   obsoleted, but perhaps not for some time.

<span class="h2"><h2><a class="selflink" name="section-8" href="https://tools.ietf.org/html/rfc2936#section-8">8</a>. Security Considerations</h2></span>

   It should be noted that the variety of ActiveX control suggested
   above is reading the user's registry, that is, examining their
   computer and reporting back some information it has discovered.  This
   may be a concern among some users.





<span class="grey">Eastlake, et al.             Informational                      [Page 5]</span></pre> 
   <hr class="noprint" style="width: 96ex;" align="left" />
   <!--NewPage-->
   <pre class="newpage"><a name="page-6" id="page-6" href="https://tools.ietf.org/html/rfc2936#page-6" class="invisible"> </a>
<span class="grey"><a href="https://tools.ietf.org/html/rfc2936">RFC 2936</a>            HTTP MIME Type Handler Detection      September 2000</span>


   In general, the use of JavaScript and, even more so, ActiveX is
   dangerous because they are so powerful.  JavaScript or ActiveX from a
   web page could be invisibly damaging to the client.

   Security of web interactions is normally provided by adopting channel
   encryption on the browser to server connections, such as [<a href="https://tools.ietf.org/html/rfc2936#ref-TLS" title="&quot;The TLS Protocol Version 1.0&quot;">TLS</a>].  In
   the absence of some such additional security outside of HTTP,
   requests and/or responses may be forged or tampered with.

<span class="h2"><h2><a class="selflink" name="section-9" href="https://tools.ietf.org/html/rfc2936#section-9">9</a>. IANA Considerations</h2></span>

   None specific to the techniques described herein.  For MIME types and
   type registration procedures, see [MIME: RFCs 2046, 2048].

References

   [<a name="ref-ECML" id="ref-ECML">ECML</a>] Eastlake, D. and T. Goldstein, &quot;ECML v1: Field Names for E-
          Commerce&quot;, <a href="https://tools.ietf.org/html/rfc2706">RFC 2706</a>, October 1999.

   [<a name="ref-HTTP" id="ref-HTTP">HTTP</a>] Berners-Lee, T., Fielding, R. and H. Frystyk, &quot;Hypertext
          Transfer Protocol -- HTTP/1.0&quot;, <a href="https://tools.ietf.org/html/rfc1945">RFC 1945</a>, May 1996.

   [<a name="ref-HTTP" id="ref-HTTP">HTTP</a>] Fielding, R., Gettys, J., Mogul, J., Frystyk, H., Masinter,
          L., Leach, P. and T. Berners-Lee, &quot;Hypertext Transfer Protocol
          -- HTTP/1.1&quot;, <a href="https://tools.ietf.org/html/rfc2616">RFC 2616</a>, June 1999.

   [<a name="ref-IOTP" id="ref-IOTP">IOTP</a>] Burdett, D., &quot;Internet Open Trading Protocol - IOTP Version
          1.0&quot;, <a href="https://tools.ietf.org/html/rfc2801">RFC 2801</a>, April 2000.

   [<a name="ref-MIME" id="ref-MIME">MIME</a>] Freed, N. and N. Borenstein, &quot;Multipurpose Internet Mail
          Extensions (MIME) Part One: Format of Internet Message
          Bodies&quot;, <a href="https://tools.ietf.org/html/rfc2045">RFC 2045</a>, November 1996.

   [<a name="ref-MIME" id="ref-MIME">MIME</a>] Freed, N. and N. Borenstein, &quot;Multipurpose Internet Mail
          Extensions (MIME) Part Two: Media Types&quot;, <a href="https://tools.ietf.org/html/rfc2046">RFC 2046</a>, November
          1996.

   [<a name="ref-MIME" id="ref-MIME">MIME</a>] Moore, K., &quot;MIME (Multipurpose Internet Mail Extensions) Part
          Three: Message Header Extensions for Non-ASCII Text&quot;, <a href="https://tools.ietf.org/html/rfc2047">RFC</a>
          <a href="https://tools.ietf.org/html/rfc2047">2047</a>, November 1996.

   [<a name="ref-MIME" id="ref-MIME">MIME</a>] Freed, N., Klensin, J. and J. Postel, &quot;Multipurpose Internet
          Mail Extensions (MIME) Part Four: Registration Procedures&quot;,
          <a href="https://tools.ietf.org/html/rfc2048">RFC 2048</a>, November 1996.







<span class="grey">Eastlake, et al.             Informational                      [Page 6]</span></pre> 
   <hr class="noprint" style="width: 96ex;" align="left" />
   <!--NewPage-->
   <pre class="newpage"><a name="page-7" id="page-7" href="https://tools.ietf.org/html/rfc2936#page-7" class="invisible"> </a>
<span class="grey"><a href="https://tools.ietf.org/html/rfc2936">RFC 2936</a>            HTTP MIME Type Handler Detection      September 2000</span>


   [<a name="ref-SET" id="ref-SET">SET</a>]  &quot;Secure Electronic Transaction (SET) Specification, Version
          1.0&quot;, May 31, 1997, available from &lt;<a href="http://www.setco.org">http://www.setco.org</a>&gt;.
             Book 1: Business Description
             Book 2: Programmer's Guide
             Book 3: Formal Protocol Definition

   [<a name="ref-TLS" id="ref-TLS">TLS</a>]  Dierks, T. and C. Allen, &quot;The TLS Protocol Version 1.0&quot;, <a href="https://tools.ietf.org/html/rfc2246">RFC</a>
          <a href="https://tools.ietf.org/html/rfc2246">2246</a>, January 1999.

   [<a name="ref-W3C" id="ref-W3C">W3C</a>] World Wide Web Consortium, &lt;www.w3.org&gt;









































<span class="grey">Eastlake, et al.             Informational                      [Page 7]</span></pre> 
   <hr class="noprint" style="width: 96ex;" align="left" />
   <!--NewPage-->
   <pre class="newpage"><a name="page-8" id="page-8" href="https://tools.ietf.org/html/rfc2936#page-8" class="invisible"> </a>
<span class="grey"><a href="https://tools.ietf.org/html/rfc2936">RFC 2936</a>            HTTP MIME Type Handler Detection      September 2000</span>


Appendix A: Browser Version Sniffer Code

  &lt;SCRIPT LANGUAGE=&quot;JavaScript&quot;&gt;
  &lt;!-- hide JavaScript from non-JavaScript browsers
  // Ultimate client-side JavaScript client sniff.
  // (C) Netscape Communications 1999.
  //     Permission granted to reuse and distribute.
  // Revised 17 May 99 to add is_nav5up and is_ie5up (see below).

  // Everything you always wanted to know about your JavaScript client
  // but were afraid to ask. Creates &quot;is_&quot; variables indicating:
  // (1) browser vendor:
  //     is_nav, is_ie, is_opera
  // (2) browser version number:
  //     is_major (integer indicating major version number: 2, 3, 4 ...)
  //     is_minor (float   indicating full  version number:
  //                                               2.02, 3.01, 4.04 ...)
  // (3) browser vendor AND major version number
  //     is_nav2, is_nav3, is_nav4, is_nav4up, is_nav5, is_nav5up,
  //     is_ie3, is_ie4, is_ie4up
  // (4) JavaScript version number:
  //     is_js (float indicating full JavaScript version number:
  //                                                    1, 1.1, 1.2 ...)
  // (5) OS platform and version:
  //     is_win, is_win16, is_win32, is_win31,
  //     is_win95, is_winnt, is_win98
  //     is_os2
  //     is_mac, is_mac68k, is_macppc
  //     is_unix
  //        is_sun, is_sun4, is_sun5, is_suni86
  //        is_irix, is_irix5, is_irix6
  //        is_hpux, is_hpux9, is_hpux10
  //        is_aix, is_aix1, is_aix2, is_aix3, is_aix4
  //        is_linux, is_sco, is_unixware, is_mpras, is_reliant
  //        is_dec, is_sinix, is_freebsd, is_bsd
  //     is_vms
  //
  // See <a href="http://www.it97.de/JavaScript/JS_tutorial/bstat/navobj.html">http://www.it97.de/JavaScript/JS_tutorial/bstat/navobj.html</a> and
  // <a href="http://www.it97.de/JavaScript/JS_tutorial/bstat/Browseraol.html">http://www.it97.de/JavaScript/JS_tutorial/bstat/Browseraol.html</a>
  // for detailed lists of userAgent strings.
  //
  // Note: you don't want your Nav4 or IE4 code to &quot;turn off&quot; or
  // stop working when Nav5 and IE5 (or later) are released, so
  // in conditional code forks, use is_nav4up (&quot;Nav4 or greater&quot;)
  // and is_ie4up (&quot;IE4 or greater&quot;) instead of is_nav4 or is_ie4
  // to check version in code which you want to work on future
  // versions.




<span class="grey">Eastlake, et al.             Informational                      [Page 8]</span></pre> 
   <hr class="noprint" style="width: 96ex;" align="left" />
   <!--NewPage-->
   <pre class="newpage"><a name="page-9" id="page-9" href="https://tools.ietf.org/html/rfc2936#page-9" class="invisible"> </a>
<span class="grey"><a href="https://tools.ietf.org/html/rfc2936">RFC 2936</a>            HTTP MIME Type Handler Detection      September 2000</span>


  // convert all characters to lowercase to simplify testing
  var agt=navigator.userAgent.toLowerCase();

  // *** BROWSER VERSION ***
  // Note: On IE5, these return 4, so use is_ie5up to detect IE5.
  var is_major = parseInt(navigator.appVersion);
  var is_minor = parseFloat(navigator.appVersion);

  // Note: Opera and WebTV spoof Navigator.  We do strict client
  //  detection.  If you want to allow spoofing, take out the tests
  //  for opera and webtv.
  var is_nav  = ((agt.indexOf('mozilla')!=-1)
              &amp;&amp; (agt.indexOf('spoofer')==-1)
              &amp;&amp; (agt.indexOf('compatible') == -1)
              &amp;&amp; (agt.indexOf('opera')==-1)
              &amp;&amp; (agt.indexOf('webtv')==-1));
  var is_nav2 = (is_nav &amp;&amp; (is_major == 2));
  var is_nav3 = (is_nav &amp;&amp; (is_major == 3));
  var is_nav4 = (is_nav &amp;&amp; (is_major == 4));
  var is_nav4up = (is_nav &amp;&amp; (is_major &gt;= 4));
  var is_navonly      = (is_nav &amp;&amp; ((agt.indexOf(&quot;;nav&quot;) != -1) ||
                        (agt.indexOf(&quot;; nav&quot;) != -1)) );
  var is_nav5 = (is_nav &amp;&amp; (is_major == 5));
  var is_nav5up = (is_nav &amp;&amp; (is_major &gt;= 5));

  var is_ie   = (agt.indexOf(&quot;msie&quot;) != -1);
  var is_ie3  = (is_ie &amp;&amp; (is_major &lt; 4));
  var is_ie4  = (is_ie &amp;&amp; (is_major == 4)
                       &amp;&amp; (agt.indexOf(&quot;msie 5.0&quot;)==-1) );
  var is_ie4up  = (is_ie  &amp;&amp; (is_major &gt;= 4));
  var is_ie5  = (is_ie &amp;&amp; (is_major == 4)
                       &amp;&amp; (agt.indexOf(&quot;msie 5.0&quot;)!=-1) );
  var is_ie5up  = (is_ie  &amp;&amp; !is_ie3 &amp;&amp; !is_ie4);

  // KNOWN BUG: On AOL4, returns false if IE3 is embedded browser
  // or if this is the first browser window opened.  Thus the
  // variables is_aol, is_aol3, and is_aol4 aren't 100% reliable.
  var is_aol   = (agt.indexOf(&quot;aol&quot;) != -1);
  var is_aol3  = (is_aol &amp;&amp; is_ie3);
  var is_aol4  = (is_aol &amp;&amp; is_ie4);

  var is_opera = (agt.indexOf(&quot;opera&quot;) != -1);
  var is_webtv = (agt.indexOf(&quot;webtv&quot;) != -1);

  // *** JAVASCRIPT VERSION CHECK ***
  var is_js;
  if (is_nav2 || is_ie3) is_js = 1.0
  else if (is_nav3 || is_opera) is_js = 1.1



<span class="grey">Eastlake, et al.             Informational                      [Page 9]</span></pre> 
   <hr class="noprint" style="width: 96ex;" align="left" />
   <!--NewPage-->
   <pre class="newpage"><a name="page-10" id="page-10" href="https://tools.ietf.org/html/rfc2936#page-10" class="invisible"> </a>
<span class="grey"><a href="https://tools.ietf.org/html/rfc2936">RFC 2936</a>            HTTP MIME Type Handler Detection      September 2000</span>


  else if ((is_nav4 &amp;&amp; (is_minor &lt;= 4.05)) || is_ie4) is_js = 1.2
  else if ((is_nav4 &amp;&amp; (is_minor &gt; 4.05)) || is_ie5) is_js = 1.3
  else if (is_nav5) is_js = 1.4
  // NOTE: In the future, update this code when newer versions of JS
  // are released. For now, we try to provide some upward compatibility
  // so that future versions of Nav and IE will show they are at
  // *least* JS 1.x capable. Always check for JS version compatibility
  // with &gt; or &gt;=.
  else if (is_nav &amp;&amp; (is_major &gt; 5)) is_js = 1.4
  else if (is_ie &amp;&amp; (is_major &gt; 5)) is_js = 1.3
  // HACK: no idea for other browsers;
  //       always check for JS version with &gt; or &gt;=
  else is_js = 0.0;

  // *** PLATFORM ***
  var is_win   = ( (agt.indexOf(&quot;win&quot;)!=-1) ||
                   (agt.indexOf(&quot;16bit&quot;)!=-1) );
  // NOTE: On Opera 3.0, the userAgent string includes &quot;Windows 95/NT4&quot;
  // on all Win32, so you can't distinguish between Win95 and WinNT.
  var is_win95 = ((agt.indexOf(&quot;win95&quot;)!=-1) ||
                  (agt.indexOf(&quot;windows 95&quot;)!=-1));

  // is this a 16 bit compiled version?
  var is_win16 = ((agt.indexOf(&quot;win16&quot;)!=-1) ||
             (agt.indexOf(&quot;16bit&quot;)!=-1) ||
             (agt.indexOf(&quot;windows 3.1&quot;)!=-1) ||
             (agt.indexOf(&quot;windows 16-bit&quot;)!=-1) );

  var is_win31 = ((agt.indexOf(&quot;windows 3.1&quot;)!=-1) ||
                  (agt.indexOf(&quot;win16&quot;)!=-1) ||
                  (agt.indexOf(&quot;windows 16-bit&quot;)!=-1));

  // NOTE: Reliable detection of Win98 may not be possible.
  // It appears that:
  //  - On Nav 4.x and before you'll get plain &quot;Windows&quot; in userAgent.
  //  - On Mercury client, the 32-bit version will return &quot;Win98&quot;, but
  //    the 16-bit version running on Win98 will still return &quot;Win95&quot;.
  var is_win98 = ((agt.indexOf(&quot;win98&quot;)!=-1) ||
                  (agt.indexOf(&quot;windows 98&quot;)!=-1));
  var is_winnt = ((agt.indexOf(&quot;winnt&quot;)!=-1) ||
                  (agt.indexOf(&quot;windows nt&quot;)!=-1));
  var is_win32 = (is_win95 || is_winnt || is_win98 ||
                  ((is_major &gt;= 4) &amp;&amp;
                   (navigator.platform == &quot;Win32&quot;)) ||
                  (agt.indexOf(&quot;win32&quot;)!=-1) ||
                  (agt.indexOf(&quot;32bit&quot;)!=-1));

  var is_os2   = ((agt.indexOf(&quot;os/2&quot;)!=-1) ||



<span class="grey">Eastlake, et al.             Informational                     [Page 10]</span></pre> 
   <hr class="noprint" style="width: 96ex;" align="left" />
   <!--NewPage-->
   <pre class="newpage"><a name="page-11" id="page-11" href="https://tools.ietf.org/html/rfc2936#page-11" class="invisible"> </a>
<span class="grey"><a href="https://tools.ietf.org/html/rfc2936">RFC 2936</a>            HTTP MIME Type Handler Detection      September 2000</span>


                  (navigator.appVersion.indexOf(&quot;OS/2&quot;)!=-1) ||
                  (agt.indexOf(&quot;ibm-webexplorer&quot;)!=-1));

  var is_mac    = (agt.indexOf(&quot;mac&quot;)!=-1);
  var is_mac68k = (is_mac &amp;&amp; ((agt.indexOf(&quot;68k&quot;)!=-1) ||
                             (agt.indexOf(&quot;68000&quot;)!=-1)));
  var is_macppc = (is_mac &amp;&amp; ((agt.indexOf(&quot;ppc&quot;)!=-1) ||
                              (agt.indexOf(&quot;powerpc&quot;)!=-1)));

  var is_sun   = (agt.indexOf(&quot;sunos&quot;)!=-1);
  var is_sun4  = (agt.indexOf(&quot;sunos 4&quot;)!=-1);
  var is_sun5  = (agt.indexOf(&quot;sunos 5&quot;)!=-1);
  var is_suni86= (is_sun &amp;&amp; (agt.indexOf(&quot;i86&quot;)!=-1));
  var is_irix  = (agt.indexOf(&quot;irix&quot;) !=-1);    // SGI
  var is_irix5 = (agt.indexOf(&quot;irix 5&quot;) !=-1);
  var is_irix6 = ((agt.indexOf(&quot;irix 6&quot;) !=-1) ||
                  (agt.indexOf(&quot;irix6&quot;) !=-1));
  var is_hpux  = (agt.indexOf(&quot;hp-ux&quot;)!=-1);
  var is_hpux9 = (is_hpux &amp;&amp; (agt.indexOf(&quot;09.&quot;)!=-1));
  var is_hpux10= (is_hpux &amp;&amp; (agt.indexOf(&quot;10.&quot;)!=-1));
  var is_aix   = (agt.indexOf(&quot;aix&quot;) !=-1);      // IBM
  var is_aix1  = (agt.indexOf(&quot;aix 1&quot;) !=-1);
  var is_aix2  = (agt.indexOf(&quot;aix 2&quot;) !=-1);
  var is_aix3  = (agt.indexOf(&quot;aix 3&quot;) !=-1);
  var is_aix4  = (agt.indexOf(&quot;aix 4&quot;) !=-1);
  var is_linux = (agt.indexOf(&quot;inux&quot;)!=-1);
  var is_sco   = (agt.indexOf(&quot;sco&quot;)!=-1) ||
                 (agt.indexOf(&quot;unix_sv&quot;)!=-1);
  var is_unixware = (agt.indexOf(&quot;unix_system_v&quot;)!=-1);
  var is_mpras    = (agt.indexOf(&quot;ncr&quot;)!=-1);
  var is_reliant  = (agt.indexOf(&quot;reliantunix&quot;)!=-1);
  var is_dec   = ((agt.indexOf(&quot;dec&quot;)!=-1) ||
         (agt.indexOf(&quot;osf1&quot;)!=-1) ||
         (agt.indexOf(&quot;dec_alpha&quot;)!=-1) ||
         (agt.indexOf(&quot;alphaserver&quot;)!=-1) ||
         (agt.indexOf(&quot;ultrix&quot;)!=-1) ||
         (agt.indexOf(&quot;alphastation&quot;)!=-1));
  var is_sinix = (agt.indexOf(&quot;sinix&quot;)!=-1);
  var is_freebsd = (agt.indexOf(&quot;freebsd&quot;)!=-1);
  var is_bsd = (agt.indexOf(&quot;bsd&quot;)!=-1);
  var is_unix  = ((agt.indexOf(&quot;x11&quot;)!=-1) || is_sun ||
               is_irix || is_hpux ||
               is_sco ||is_unixware || is_mpras || is_reliant ||
               is_dec || is_sinix || is_aix || is_linux ||
               is_bsd || is_freebsd);

  var is_vms   = ((agt.indexOf(&quot;vax&quot;)!=-1) ||
                  (agt.indexOf(&quot;openvms&quot;)!=-1));



<span class="grey">Eastlake, et al.             Informational                     [Page 11]</span></pre> 
   <hr class="noprint" style="width: 96ex;" align="left" />
   <!--NewPage-->
   <pre class="newpage"><a name="page-12" id="page-12" href="https://tools.ietf.org/html/rfc2936#page-12" class="invisible"> </a>
<span class="grey"><a href="https://tools.ietf.org/html/rfc2936">RFC 2936</a>            HTTP MIME Type Handler Detection      September 2000</span>


  &lt;/SCRIPT&gt;

Authors' Addresses

   Donald E. Eastlake 3rd
   Motorola
   140 Forest Avenue
   Hudson, MA 01749 USA

   Phone: +1 978-562-2827(h)
          +1 508-261-5434(w)
   Fax:   +1 508-261-4447(w)
   EMail: Donald.Eastlake@motorola.com


   Chris J. Smith
   Royal Bank of Canada
   277 Front Street West
   Toronto, Ontario M5V 3A4 CANADA

   Phone: +1 416-348-6090
   Fax:   +1 416-348-2210
   EMail: chris.smith@royalbank.com


   David M. Soroka
   IBM
   Raleigh, NC

   Phone: +1 919-486-2684
   Fax:   +1 919-543-4653
   EMail: dsoroka@us.ibm.com



















<span class="grey">Eastlake, et al.             Informational                     [Page 12]</span></pre> 
   <hr class="noprint" style="width: 96ex;" align="left" />
   <!--NewPage-->
   <pre class="newpage"><a name="page-13" id="page-13" href="https://tools.ietf.org/html/rfc2936#page-13" class="invisible"> </a>
<span class="grey"><a href="https://tools.ietf.org/html/rfc2936">RFC 2936</a>            HTTP MIME Type Handler Detection      September 2000</span>


Full Copyright Statement

   Copyright (C) The Internet Society (2000).  All Rights Reserved.

   This document and translations of it may be copied and furnished to
   others, and derivative works that comment on or otherwise explain it
   or assist in its implementation may be prepared, copied, published
   and distributed, in whole or in part, without restriction of any
   kind, provided that the above copyright notice and this paragraph are
   included on all such copies and derivative works.  However, this
   document itself may not be modified in any way, such as by removing
   the copyright notice or references to the Internet Society or other
   Internet organizations, except as needed for the purpose of
   developing Internet standards in which case the procedures for
   copyrights defined in the Internet Standards process must be
   followed, or as required to translate it into languages other than
   English.

   The limited permissions granted above are perpetual and will not be
   revoked by the Internet Society or its successors or assigns.

   This document and the information contained herein is provided on an
   &quot;AS IS&quot; basis and THE INTERNET SOCIETY AND THE INTERNET ENGINEERING
   TASK FORCE DISCLAIMS ALL WARRANTIES, EXPRESS OR IMPLIED, INCLUDING
   BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF THE INFORMATION
   HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED WARRANTIES OF
   MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.

Acknowledgement

   Funding for the RFC Editor function is currently provided by the
   Internet Society.



















Eastlake, et al.             Informational                     [Page 13]

</pre>
   <br /> 
   <span class="noprint"><small><small>Html markup produced by rfcmarkup 1.127, available from <a href="https://tools.ietf.org/tools/rfcmarkup/">https://tools.ietf.org/tools/rfcmarkup/</a> </small></small></span> 
  </div> 
 </body>
</html>