<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
 <head profile="http://dublincore.org/documents/2008/08/04/dc-html/"> 
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /> 
  <meta name="robots" content="index,follow" /> 
  <meta name="creator" content="rfcmarkup version 1.127" /> 
  <link rel="schema.DC" href="http://purl.org/dc/elements/1.1/" /> 
  <meta name="DC.Identifier" content="urn:ietf:rfc:3465" /> 
  <meta name="DC.Description.Abstract" content="This document proposed a small modification to the way TCP increases
its congestion window. Rather than the traditional method of
increasing the congestion window by a constant amount for each
arriving acknowledgment, we suggest basing the increase on the number
of previously unacknowledged bytes each ACK covers. This change
improves the performance of TCP, as well as closes a security hole TCP
receivers can use to induce the sender into increasing the sending
rate too rapidly.  Terminology  Much of the language in this document
is taken from [RFC2581]." /> 
  <meta name="DC.Creator" content="Mark Allman &lt;mallman@bbn.com&gt;" /> 
  <meta name="DC.Date.Issued" content="February, 2003" /> 
  <meta name="DC.Title" content="TCP Congestion Control with Appropriate Byte Counting (ABC)" /> 
  <link rel="icon" href="/images/rfc.png" type="image/png" /> 
  <link rel="shortcut icon" href="/images/rfc.png" type="image/png" /> 
  <title>RFC 3465 - TCP Congestion Control with Appropriate Byte Counting (ABC)</title> 
  <style type="text/css">
	@media only screen 
	  and (min-width: 992px)
	  and (max-width: 1199px) {
	    body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-width: 768px)
	  and (max-width: 991px) {
            body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-width: 480px)
	  and (max-width: 767px) {
            body { font-size: 11pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (max-width: 479px) {
            body { font-size: 8pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-device-width : 375px) 
	  and (max-device-width : 667px) {
            body { font-size: 9.5pt; }
            div.content { width: 96ex; margin: 0 1px; }
        }
	@media only screen 
	  and (min-device-width: 1200px) {
            body { font-size: 10pt; margin: 0 4em; }
            div.content { width: 96ex; margin: 0; }
        }
        h1, h2, h3, h4, h5, h6, .h1, .h2, .h3, .h4, .h5, .h6 {
	    font-weight: bold;
            line-height: 0pt;
            display: inline;
            white-space: pre;
            font-family: monospace;
            font-size: 1em;
	    font-weight: bold;
        }
        pre {
            font-size: 1em;
            margin-top: 0px;
            margin-bottom: 0px;
        }
	.pre {
	    white-space: pre;
	    font-family: monospace;
	}
	.header{
	    font-weight: bold;
	}
        .newpage {
            page-break-before: always;
        }
        .invisible {
            text-decoration: none;
            color: white;
        }
        a.selflink {
          color: black;
          text-decoration: none;
        }
        @media print {
            body {
                font-family: monospace;
                font-size: 10.5pt;
            }
            h1, h2, h3, h4, h5, h6 {
                font-size: 1em;
            }
        
            a:link, a:visited {
                color: inherit;
                text-decoration: none;
            }
            .noprint {
                display: none;
            }
        }
	@media screen {
	    .grey, .grey a:link, .grey a:visited {
		color: #777;
	    }
            .docinfo {
                background-color: #EEE;
            }
            .top {
                border-top: 7px solid #EEE;
            }
            .bgwhite  { background-color: white; }
            .bgred    { background-color: #F44; }
            .bggrey   { background-color: #666; }
            .bgbrown  { background-color: #840; }            
            .bgorange { background-color: #FA0; }
            .bgyellow { background-color: #EE0; }
            .bgmagenta{ background-color: #F4F; }
            .bgblue   { background-color: #66F; }
            .bgcyan   { background-color: #4DD; }
            .bggreen  { background-color: #4F4; }

            .legend   { font-size: 90%; }
            .cplate   { font-size: 70%; border: solid grey 1px; }
	}
    </style> 
  <!--[if IE]>
    <style>
    body {
       font-size: 13px;
       margin: 10px 10px;
    }
    </style>
    <![endif]--> 
  <script type="text/javascript"><!--
    function addHeaderTags() {
	var spans = document.getElementsByTagName("span");
	for (var i=0; i < spans.length; i++) {
	    var elem = spans[i];
	    if (elem) {
		var level = elem.getAttribute("class");
                if (level == "h1" || level == "h2" || level == "h3" || level == "h4" || level == "h5" || level == "h6") {
                    elem.innerHTML = "<"+level+">"+elem.innerHTML+"</"+level+">";		
                }
	    }
	}
    }
    var legend_html = "Colour legend:<br />      <table>         <tr><td>Unknown:</td>                   <td><span class='cplate bgwhite'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Draft:</td>                     <td><span class='cplate bgred'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Informational:</td>             <td><span class='cplate bgorange'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Experimental:</td>              <td><span class='cplate bgyellow'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Best Common Practice:</td>      <td><span class='cplate bgmagenta'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Proposed Standard:</td>         <td><span class='cplate bgblue'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Draft Standard (old designation):</td> <td><span class='cplate bgcyan'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Internet Standard:</td>         <td><span class='cplate bggreen'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Historic:</td>                  <td><span class='cplate bggrey'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Obsolete:</td>                  <td><span class='cplate bgbrown'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>     </table>";
    function showElem(id) {
        var elem = document.getElementById(id);
        elem.innerHTML = eval(id+"_html");
        elem.style.visibility='visible';
    }
    function hideElem(id) {
        var elem = document.getElementById(id);
        elem.style.visibility='hidden';        
        elem.innerHTML = "";
    }
    // -->
    </script> 
 </head> 
 <body onload="addHeaderTags()"> 
  <div class="content"> 
   <div style="height: 13px;"> 
    <div onmouseover="this.style.cursor='pointer';" onclick="showElem('legend');" onmouseout="hideElem('legend')" style="height: 6px; position: absolute;" class="pre noprint docinfo bgyellow" title="Click for colour legend."> 
    </div> 
    <div id="legend" class="docinfo noprint pre legend" style="position:absolute; top: 4px; left: 4ex; visibility:hidden; background-color: white; padding: 4px 9px 5px 7px; border: solid #345 1px; " onmouseover="showElem('legend');" onmouseout="hideElem('legend');"> 
    </div> 
   </div> 
   <span class="pre noprint docinfo top">[<a href="https://tools.ietf.org/html/" title="Document search and retrieval page">Docs</a>] [<a href="https://tools.ietf.org/rfc/rfc3465.txt" title="Plaintext version of this document">txt</a>|<a href="https://tools.ietf.org/pdf/rfc3465" title="PDF version of this document">pdf</a>] [<a href="https://tools.ietf.org/html/draft-allman-tcp-abc" title="draft-allman-tcp-abc">draft-allman-tc...</a>] [<a href="https://datatracker.ietf.org/doc/rfc3465" title="IESG Datatracker information for this document">Tracker</a>] [<a href="https://tools.ietf.org/rfcdiff?difftype=--hwdiff&amp;url2=rfc3465" title="Inline diff (wdiff)">Diff1</a>] [<a href="https://tools.ietf.org/rfcdiff?url2=rfc3465" title="Side-by-side diff">Diff2</a>] </span>
   <br /> 
   <span class="pre noprint docinfo"> </span>
   <br /> 
   <span class="pre noprint docinfo"> EXPERIMENTAL</span>
   <br /> 
   <span class="pre noprint docinfo"> </span>
   <br /> 
   <pre>Network Working Group                                          M. Allman
Request for Comments: 3465                                  BBN/NASA GRC
Category: Experimental                                     February 2003


      <span class="h1"><h1>TCP Congestion Control with Appropriate Byte Counting (ABC)</h1></span>

Status of this Memo

   This memo defines an Experimental Protocol for the Internet
   community.  It does not specify an Internet standard of any kind.
   Discussion and suggestions for improvement are requested.
   Distribution of this memo is unlimited.

Copyright Notice

   Copyright (C) The Internet Society (2003).  All Rights Reserved.

Abstract

   This document proposes a small modification to the way TCP increases
   its congestion window.  Rather than the traditional method of
   increasing the congestion window by a constant amount for each
   arriving acknowledgment, the document suggests basing the increase on
   the number of previously unacknowledged bytes each ACK covers.  This
   change improves the performance of TCP, as well as closes a security
   hole TCP receivers can use to induce the sender into increasing the
   sending rate too rapidly.

Terminology

   Much of the language in this document is taken from [<a href="https://tools.ietf.org/html/rfc2581" title="&quot;TCP Congestion Control&quot;">RFC2581</a>].

   The key words &quot;MUST&quot;, &quot;MUST NOT&quot;, &quot;REQUIRED&quot;, &quot;SHALL&quot;, &quot;SHALL NOT&quot;,
   &quot;SHOULD&quot;, &quot;SHOULD NOT&quot;, &quot;RECOMMENDED&quot;, &quot;MAY&quot;, and &quot;OPTIONAL&quot; in this
   document are to be interpreted as described in [<a href="https://tools.ietf.org/html/rfc2119" title="&quot;Key words for use in RFCs to Indicate Requirement Levels&quot;">RFC2119</a>].

<span class="h2"><h2><a class="selflink" name="section-1" href="https://tools.ietf.org/html/rfc3465#section-1">1</a> Introduction</h2></span>

   This document proposes a modification to the algorithm for increasing
   TCP's congestion window (cwnd) that improves both performance and
   security.  Rather than increasing a TCP's congestion window based on
   the number of acknowledgments (ACKs) that arrive at the data sender
   (per the current specification [<a href="https://tools.ietf.org/html/rfc2581" title="&quot;TCP Congestion Control&quot;">RFC2581</a>]), the congestion window is
   increased based on the number of bytes acknowledged by the arriving
   ACKs.  The algorithm improves performance by mitigating the impact of
   delayed ACKs on the growth of cwnd.  At the same time, the algorithm
   provides cwnd growth in direct relation to the probed capacity of a



<span class="grey">Allman                        Experimental                      [Page 1]</span></pre> 
   <hr class="noprint" style="width: 96ex;" align="left" />
   <!--NewPage-->
   <pre class="newpage"><a name="page-2" id="page-2" href="https://tools.ietf.org/html/rfc3465#page-2" class="invisible"> </a>
<span class="grey"><a href="https://tools.ietf.org/html/rfc3465">RFC 3465</a>            TCP Congestion Control with ABC        February 2003</span>


   network path, therefore providing a more measured response to ACKs
   that cover only small amounts of data (less than a full segment size)
   than ACK counting.  This more appropriate cwnd growth can improve
   both performance and can prevent inappropriate cwnd growth in
   response to a misbehaving receiver.  On the other hand, in some cases
   the modified cwnd growth algorithm causes larger bursts of segments
   to be sent into the network.  In some cases this can lead to a non-
   negligible increase in the drop rate and reduced performance (see
   <a href="https://tools.ietf.org/html/rfc3465#section-4">section 4</a> for a larger discussion of the issues).

   This document is organized as follows.  <a href="https://tools.ietf.org/html/rfc3465#section-2">Section 2</a> outlines the
   modified algorithm for increasing TCP's congestion window.  <a href="https://tools.ietf.org/html/rfc3465#section-3">Section 3</a>
   discusses the advantages of using the modified algorithm.  <a href="https://tools.ietf.org/html/rfc3465#section-4">Section 4</a>
   discusses the disadvantages of the approach outlined in this
   document.  <a href="https://tools.ietf.org/html/rfc3465#section-5">Section 5</a> outlines some of the fairness issues that must
   be considered for the modified algorithm.  <a href="https://tools.ietf.org/html/rfc3465#section-6">Section 6</a> discusses
   security considerations.

   Statement of Intent

      This specification contains an algorithm improving the performance
      of TCP which is understood to be effective and safe, but which has
      not been widely deployed.  One goal of publication as an
      Experimental RFC is to be prudent, and encourage use and
      deployment prior to publication in the standards track.  It is the
      intent of the Transport Area to re-submit this specification as an
      IETF Proposed Standard in the future, after more experience has
      been gained.

<span class="h2"><h2><a class="selflink" name="section-2" href="https://tools.ietf.org/html/rfc3465#section-2">2</a> A Modified Algorithm for Increasing the Congestion Window</h2></span>

   As originally outlined in [<a href="https://tools.ietf.org/html/rfc3465#ref-Jac88">Jac88</a>] and specified in [<a href="https://tools.ietf.org/html/rfc2581" title="&quot;TCP Congestion Control&quot;">RFC2581</a>], TCP
   uses two algorithms for increasing the congestion window.  During
   steady-state, TCP uses the Congestion Avoidance algorithm to linearly
   increase the value of cwnd.  At the beginning of a transfer, after a
   retransmission timeout or after a long idle period (in some
   implementations), TCP uses the Slow Start algorithm to increase cwnd
   exponentially.  According to <a href="https://tools.ietf.org/html/rfc2581">RFC 2581</a>, slow start bases the cwnd
   increase on the number of incoming acknowledgments.  During
   congestion avoidance <a href="https://tools.ietf.org/html/rfc2581">RFC 2581</a> allows more latitude in increasing
   cwnd, but traditionally implementations have based the increase on
   the number of arriving ACKs.  In the following two subsections, we
   detail modifications to these algorithms to increase cwnd based on
   the number of bytes being acknowledged by each arriving ACK, rather
   than by the number of ACKs that arrive.  We call these changes
   &quot;Appropriate Byte Counting&quot; (ABC) [<a href="https://tools.ietf.org/html/rfc3465#ref-All99" title="29(3)">All99</a>].





<span class="grey">Allman                        Experimental                      [Page 2]</span></pre> 
   <hr class="noprint" style="width: 96ex;" align="left" />
   <!--NewPage-->
   <pre class="newpage"><a name="page-3" id="page-3" href="https://tools.ietf.org/html/rfc3465#page-3" class="invisible"> </a>
<span class="grey"><a href="https://tools.ietf.org/html/rfc3465">RFC 3465</a>            TCP Congestion Control with ABC        February 2003</span>


<span class="h3"><h3><a class="selflink" name="section-2.1" href="https://tools.ietf.org/html/rfc3465#section-2.1">2.1</a> Congestion Avoidance</h3></span>

   <a href="https://tools.ietf.org/html/rfc2581">RFC 2581</a> specifies that cwnd should be increased by 1 segment per
   round-trip time (RTT) during the congestion avoidance phase of a
   transfer.  Traditionally, TCPs have approximated this increase by
   increasing cwnd by 1/cwnd for each arriving ACK.  This algorithm
   opens cwnd by roughly 1 segment per RTT if the receiver ACKs each
   incoming segment and no ACK loss occurs.  However, if the receiver
   implements delayed ACKs [Bra89], the receiver returns roughly half as
   many ACKs, which causes the sender to open cwnd more conservatively
   (by approximately 1 segment every second RTT).  The approach that
   this document suggests is to store the number of bytes that have been
   ACKed in a &quot;bytes_acked&quot; variable in the TCP control block.  When
   bytes_acked becomes greater than or equal to the value of the
   congestion window, bytes_acked is reduced by the value of cwnd.
   Next, cwnd is incremented by a full-sized segment (SMSS).  The
   algorithm suggested above is specifically allowed by <a href="https://tools.ietf.org/html/rfc2581">RFC 2581</a> during
   congestion avoidance because it opens the window by at most 1 segment
   per RTT.

<span class="h3"><h3><a class="selflink" name="section-2.2" href="https://tools.ietf.org/html/rfc3465#section-2.2">2.2</a> Slow Start</h3></span>

   <a href="https://tools.ietf.org/html/rfc2581">RFC 2581</a> states that the sender increments the congestion window by
   at most, 1*SMSS bytes for each arriving acknowledgment during slow
   start.  This document proposes that a TCP sender SHOULD increase cwnd
   by the number of previously unacknowledged bytes ACKed by each
   incoming acknowledgment, provided the increase is not more than L
   bytes.  Choosing the limit on the increase, L, is discussed in the
   next subsection.  When the number of previously unacknowledged bytes
   ACKed is less than or equal to 1*SMSS bytes, or L is less than or
   equal to 1*SMSS bytes, this proposal is no more aggressive (and
   possibly less aggressive) than allowed by <a href="https://tools.ietf.org/html/rfc2581">RFC 2581</a>.  However,
   increasing cwnd by more than 1*SMSS bytes in response to a single ACK
   is more aggressive than allowed by <a href="https://tools.ietf.org/html/rfc2581">RFC 2581</a>.  The more aggressive
   version of the slow start algorithm still falls within the spirit of
   the principles outlined in [<a href="https://tools.ietf.org/html/rfc3465#ref-Jac88">Jac88</a>] (i.e., of no more than doubling
   the cwnd per RTT), and this document proposes ABC for experimentation
   in shared networks, provided an appropriate limit is applied (see
   next section).

<span class="h3"><h3><a class="selflink" name="section-2.3" href="https://tools.ietf.org/html/rfc3465#section-2.3">2.3</a> Choosing the Limit</h3></span>

   The limit, L, chosen for the cwnd increase during slow start,
   controls the aggressiveness of the algorithm.  Choosing L=1*SMSS
   bytes provides behavior that is no more aggressive than allowed by
   <a href="https://tools.ietf.org/html/rfc2581">RFC 2581</a>.  However, ABC with L=1*SMSS bytes is more conservative in a





<span class="grey">Allman                        Experimental                      [Page 3]</span></pre> 
   <hr class="noprint" style="width: 96ex;" align="left" />
   <!--NewPage-->
   <pre class="newpage"><a name="page-4" id="page-4" href="https://tools.ietf.org/html/rfc3465#page-4" class="invisible"> </a>
<span class="grey"><a href="https://tools.ietf.org/html/rfc3465">RFC 3465</a>            TCP Congestion Control with ABC        February 2003</span>


   number of key ways (as discussed in the next section) and therefore,
   this document suggests that even though with L=1*SMSS bytes TCP
   stacks will see little performance change, ABC SHOULD be used.

   A very large L could potentially lead to large line-rate bursts of
   traffic in the face of a large amount of ACK loss or in the case when
   the receiver sends &quot;stretch ACKs&quot; (ACKs for more than the two full-
   sized segments allowed by the delayed ACK algorithm) [<a href="https://tools.ietf.org/html/rfc3465#ref-Pax97">Pax97</a>].

   This document specifies that TCP implementations MAY use L=2*SMSS
   bytes and MUST NOT use L &gt; 2*SMSS bytes.  This choice balances
   between being conservative (L=1*SMSS bytes) and being potentially
   very aggressive.  In addition, L=2*SMSS bytes exactly balances the
   negative impact of the delayed ACK algorithm (as discussed in more
   detail in <a href="https://tools.ietf.org/html/rfc3465#section-3.2">section 3.2</a>).  Note that when L=2*SMSS bytes cwnd growth is
   roughly the same as the case when the standard algorithms are used in
   conjunction with a receiver that transmits an ACK for each incoming
   segment [<a href="https://tools.ietf.org/html/rfc3465#ref-All98" title="29(3)">All98</a>] (assuming no or small amounts of ACK loss in both
   cases).

   The exception to the above suggestion is during a slow start phase
   that follows a retransmission timeout (RTO).  In this situation, a
   TCP MUST use L=1*SMSS as specified in <a href="https://tools.ietf.org/html/rfc2581">RFC 2581</a> since ACKs for large
   amounts of previously unacknowledged data are common during this
   phase of a transfer.  These ACKs do not necessarily indicate how much
   data has left the network in the last RTT, and therefore ABC cannot
   accurately determine how much to increase cwnd.  As an example, say
   segment N is dropped by the network, and segments N+1 and N+2 arrive
   successfully at the receiver.  The sender will receive only two
   duplicate ACKs and therefore must rely on the retransmission timer
   (RTO) to detect the loss.  When the RTO expires, segment N is
   retransmitted.  The ACK sent in response to the retransmission will
   be for segment N+2.  However, this ACK does not indicate that three
   segments have left the network in the last RTT, but rather only a
   single segment left the network.  Therefore, the appropriate cwnd
   increment is at most 1*SMSS bytes.

<span class="h3"><h3><a class="selflink" name="section-2.4" href="https://tools.ietf.org/html/rfc3465#section-2.4">2.4</a> RTO Implications</h3></span>

   [<a name="ref-Jac88" id="ref-Jac88">Jac88</a>] shows that increases in cwnd of more than a factor of two in
   succeeding RTTs can cause spurious retransmissions on slow links
   where the bandwidth dominates the RTT, assuming the RTO estimator
   given in [<a href="https://tools.ietf.org/html/rfc3465#ref-Jac88">Jac88</a>] and [<a href="https://tools.ietf.org/html/rfc2988">RFC2988</a>].  ABC stays within this limit of no
   more than doubling cwnd in successive RTTs by capping the increase
   (no matter what L is employed) by the number of previously
   unacknowledged bytes covered by each incoming ACK.





<span class="grey">Allman                        Experimental                      [Page 4]</span></pre> 
   <hr class="noprint" style="width: 96ex;" align="left" />
   <!--NewPage-->
   <pre class="newpage"><a name="page-5" id="page-5" href="https://tools.ietf.org/html/rfc3465#page-5" class="invisible"> </a>
<span class="grey"><a href="https://tools.ietf.org/html/rfc3465">RFC 3465</a>            TCP Congestion Control with ABC        February 2003</span>


<span class="h2"><h2><a class="selflink" name="section-3" href="https://tools.ietf.org/html/rfc3465#section-3">3</a> Advantages</h2></span>

   This section outlines several advantages of using the ABC algorithm
   to increase cwnd, rather than the standard ACK counting algorithm
   given in [<a href="https://tools.ietf.org/html/rfc2581" title="&quot;TCP Congestion Control&quot;">RFC2581</a>].

<span class="h3"><h3><a class="selflink" name="section-3.1" href="https://tools.ietf.org/html/rfc3465#section-3.1">3.1</a> More Appropriate Congestion Window Increase</h3></span>

   The ABC algorithm outlined in <a href="https://tools.ietf.org/html/rfc3465#section-2">section 2</a> increases TCP's cwnd in
   proportion to the amount of data actually sent into the network.  ACK
   counting, on the other hand, increments cwnd by a constant upon the
   arrival of each ACK.  For instance, consider an interactive telnet
   connection (e.g., ssh or telnet) in which ACKs generally cover only a
   few bytes of data, but cwnd is increased by 1*SMSS bytes for each ACK
   received.  When a large amount of data needs to be transmitted (e.g.,
   displaying a large file) the data is sent in one large burst because
   the cwnd grows by 1*SMSS bytes per ACK rather than based on the
   actual amount of capacity used.  Such a line-rate burst of data can
   potentially cause a large amount of segment loss.

   Congestion Window Validation (CWV) [<a href="https://tools.ietf.org/html/rfc2861" title="&quot;TCP Congestion Window Validation&quot;">RFC2861</a>] addresses the above
   problem as well.  CWV limits the amount of unused cwnd a TCP
   connection can accumulate.  ABC can be used in conjunction with CWV
   to obtain an accurate measure of the network path.

<span class="h3"><h3><a class="selflink" name="section-3.2" href="https://tools.ietf.org/html/rfc3465#section-3.2">3.2</a> Mitigate the Impact of Delayed ACKs and Lost ACKs</h3></span>

   Delayed ACKs [RFC1122,<a href="https://tools.ietf.org/html/rfc2581">RFC2581</a>] allow a TCP receiver to refrain from
   sending an ACK for each incoming segment.  However, a receiver SHOULD
   send an ACK for every second full-sized segment that arrives.
   Furthermore, a receiver MUST NOT withhold an ACK for more than 500
   ms.  By reducing the number of ACKs sent to the data originator the
   receiver is slowing the growth of the congestion window under an ACK
   counting system.  Using ABC with L=2*SMSS bytes can roughly negate
   the negative impact imposed by delayed ACKs by allowing cwnd to be
   increased for ACKs that are withheld by the receiver.  This allows
   the congestion window to grow in a manner similar to the case when
   the receiver ACKs each incoming segment, but without adding extra
   traffic to the network.  Simulation studies have shown increased
   throughput when a TCP sender uses ABC when compared to the standard
   ACK counting algorithm [<a href="https://tools.ietf.org/html/rfc3465#ref-All99" title="29(3)">All99</a>], especially for short transfers that
   never leave the initial slow start period.

   Note that delayed ACKs should not be an issue during slow start-based
   loss recovery, as <a href="https://tools.ietf.org/html/rfc2581">RFC 2581</a> recommends that receivers should not delay
   ACKs that cover out-of-order segments.  Therefore, as discussed
   above, ABC with L &gt; 1*SMSS bytes is inappropriate for such slow start
   based loss recovery and MUST NOT be used.



<span class="grey">Allman                        Experimental                      [Page 5]</span></pre> 
   <hr class="noprint" style="width: 96ex;" align="left" />
   <!--NewPage-->
   <pre class="newpage"><a name="page-6" id="page-6" href="https://tools.ietf.org/html/rfc3465#page-6" class="invisible"> </a>
<span class="grey"><a href="https://tools.ietf.org/html/rfc3465">RFC 3465</a>            TCP Congestion Control with ABC        February 2003</span>


   Note: In the case when an entire window of data is lost, a TCP
   receiver will likely generate delayed ACKs and an L &gt; 1*SMSS bytes
   would be safe.  However, detecting this scenario is difficult.
   Therefore to keep ABC conservative, this document mandates that L
   MUST NOT be &gt; 1*SMSS bytes in any slow start-based loss recovery.

   ACK loss can also retard the growth of a congestion window that
   increases based on the number of ACKs that arrive.  When counting
   ACKs, dropped ACKs represent forever-missed opportunities to increase
   cwnd.  Using ABC with L &gt; 1*SMSS bytes allows the sender to mitigate
   the effect of lost ACKs.

<span class="h3"><h3><a class="selflink" name="section-3.3" href="https://tools.ietf.org/html/rfc3465#section-3.3">3.3</a> Prevents Attacks from Misbehaving Receivers</h3></span>

   [<a name="ref-SCWA99" id="ref-SCWA99">SCWA99</a>] outlines several methods for a receiver to induce a TCP
   sender into violating congestion control and transmitting data at a
   potentially inappropriate rate.  One of the outlined attacks is &quot;ACK
   Division&quot;.  This scheme involves the receiver sending multiple ACKs
   for each incoming data segment, each ACKing only a small portion of
   the original TCP data segment.  Since TCP senders have traditionally
   used ACK counting to increase cwnd, ACK division causes
   inappropriately rapid cwnd growth and, in turn, a potentially
   inappropriate sending rate.  A TCP sender that uses ABC can prevent
   this attack from being used to undermine standard congestion control
   because the cwnd increase is based on the number of bytes ACKed,
   rather than the number of ACKs received.

   To prevent misbehaving receivers from inducing inappropriate sender
   behavior, this document suggests TCP implementations use ABC, even if
   L=1*SMSS bytes (i.e., not allowing ABC to provide more aggressive
   cwnd growth than allowed by <a href="https://tools.ietf.org/html/rfc2581">RFC 2581</a>).

<span class="h2"><h2><a class="selflink" name="section-4" href="https://tools.ietf.org/html/rfc3465#section-4">4</a> Disadvantages</h2></span>

   The main disadvantages of using ABC with L=2*SMSS bytes are an
   increase in the burstiness of TCP and a small increase in the overall
   loss rate.  [<a href="https://tools.ietf.org/html/rfc3465#ref-All98" title="29(3)">All98</a>] discusses the two ways that ABC increases the
   burstiness of the TCP sender.  First, the &quot;micro burstiness&quot; of the
   connection is increased.  In other words, the number of segments sent
   in response to each incoming ACK is increased by at most 1 segment
   when using ABC with L=2*SMSS bytes in conjunction with a receiver
   that is sending delayed ACKs.  During slow start this translates into
   an increase from sending 2 back-to-back segments to sending 3 back-
   to-back packets in response to an ACK for a single packet.  Or, an
   increase from 3 packets to 4 packets when receiving a delayed ACK for
   two outstanding packets.  Note that ACK loss can cause larger bursts.
   However, ABC only increases the burst size by at most 1*SMSS bytes
   per ACK received when compared to the standard behavior.  This slight



<span class="grey">Allman                        Experimental                      [Page 6]</span></pre> 
   <hr class="noprint" style="width: 96ex;" align="left" />
   <!--NewPage-->
   <pre class="newpage"><a name="page-7" id="page-7" href="https://tools.ietf.org/html/rfc3465#page-7" class="invisible"> </a>
<span class="grey"><a href="https://tools.ietf.org/html/rfc3465">RFC 3465</a>            TCP Congestion Control with ABC        February 2003</span>


   increase in the burstiness should only cause problems for devices
   that have very small buffers.  In addition, ABC increases the &quot;macro
   burstiness&quot; of the TCP sender in response to delayed ACKs in slow
   start.  Rather than increasing cwnd by roughly 1.5 times per RTT, ABC
   roughly doubles the congestion window every RTT.  However, doubling
   cwnd every RTT fits within the spirit of slow start, as originally
   outlined [<a href="https://tools.ietf.org/html/rfc3465#ref-Jac88">Jac88</a>].

   With the increased burstiness comes a modest increase in the loss
   rate for a TCP connection employing ABC (see the next section for a
   short discussion on the fairness of ABC to non-ABC flows).  The
   additional loss can be directly attributable to the increased
   aggressiveness of ABC.  During slow start cwnd is increased more
   rapidly.  Therefore when loss occurs cwnd is larger and more drops
   are likely.  Similarly, a congestion avoidance cycle takes roughly
   half, as long when using ABC and delayed ACKs when compared to an ACK
   counting implementation.  In other words, a TCP sender reaches the
   capacity of the network path, drops a packet and reduces the
   congestion window by half roughly twice as often when using ABC.
   However, as discussed above, in spite of the additional loss an ABC
   TCP sender generally obtains better overall performance than a non-
   ABC TCP [<a href="https://tools.ietf.org/html/rfc3465#ref-All99" title="29(3)">All99</a>].

   Due to the increase in the packet drop rate we suggest ABC be
   implemented in conjunction with selective acknowledgments [<a href="https://tools.ietf.org/html/rfc2018" title="&quot;TCP Selective Acknowledgment Options&quot;">RFC2018</a>].

<span class="h2"><h2><a class="selflink" name="section-5" href="https://tools.ietf.org/html/rfc3465#section-5">5</a> Fairness Considerations</h2></span>

   [<a name="ref-All99" id="ref-All99">All99</a>] presents several simple simulations conducted to measure the
   impact of ABC on competing traffic (both ABC and non-ABC).  The
   experiments show that while ABC increases the drop rate for the
   connection using ABC, competing traffic is not greatly effected.  The
   experiments show that standard TCP and ABC both obtain roughly the
   same throughput, regardless of the variant of the competing traffic.
   The simulations also reaffirm that ABC outperforms non-ABC TCP in an
   environment with varying types of TCP connections.  On the other
   hand, the simulations presented in [<a href="https://tools.ietf.org/html/rfc3465#ref-All99" title="29(3)">All99</a>] are not necessarily
   realistic.  Therefore we are encouraging more experimentation in the
   Internet.

<span class="h2"><h2><a class="selflink" name="section-6" href="https://tools.ietf.org/html/rfc3465#section-6">6</a> Security Considerations</h2></span>

   As discussed in <a href="https://tools.ietf.org/html/rfc3465#section-3.3">section 3.3</a>, ABC protects a TCP sender from a
   misbehaving receiver that induces the sender into transmitting at an
   inappropriate rate with an &quot;ACK division&quot; attack.  This, in turn,
   protects the network from an overly aggressive sender.





<span class="grey">Allman                        Experimental                      [Page 7]</span></pre> 
   <hr class="noprint" style="width: 96ex;" align="left" />
   <!--NewPage-->
   <pre class="newpage"><a name="page-8" id="page-8" href="https://tools.ietf.org/html/rfc3465#page-8" class="invisible"> </a>
<span class="grey"><a href="https://tools.ietf.org/html/rfc3465">RFC 3465</a>            TCP Congestion Control with ABC        February 2003</span>


<span class="h2"><h2><a class="selflink" name="section-7" href="https://tools.ietf.org/html/rfc3465#section-7">7</a> Conclusions</h2></span>

   This document RECOMMENDS that all TCP stacks be modified to use ABC
   with L=1*SMSS bytes.  This change does not increase the
   aggressiveness of TCP.  Furthermore, simulations of ABC with L=2*SMSS
   bytes show a promising performance improvement that we encourage
   researchers to experiment with in the Internet.

Acknowledgments

   This document has benefited from discussions with and encouragement
   from Sally Floyd.  Van Jacobson and Reiner Ludwig provided valuable
   input on the implications of byte counting on the RTO.  Reiner Ludwig
   and Kostas Pentikousis provided valuable feedback on a draft of this
   document.

Normative References

   [<a name="ref-RFC1122" id="ref-RFC1122">RFC1122</a>] Braden, R., Ed., &quot;Requirements for Internet Hosts --
             Communication Layers&quot;, STD 3, <a href="https://tools.ietf.org/html/rfc1122">RFC 1122</a>, October 1989.

   [<a name="ref-RFC2119" id="ref-RFC2119">RFC2119</a>] Bradner, S., &quot;Key words for use in RFCs to Indicate
             Requirement Levels&quot;, <a href="https://tools.ietf.org/html/bcp14">BCP 14</a>, <a href="https://tools.ietf.org/html/rfc2119">RFC 2119</a>, March 1997.

   [<a name="ref-RFC2581" id="ref-RFC2581">RFC2581</a>] Allman, M., Paxson, V. and W. Stevens, &quot;TCP Congestion
             Control&quot;, <a href="https://tools.ietf.org/html/rfc2581">RFC 2581</a>, April 1999.

Informative References

   [<a name="ref-All98" id="ref-All98">All98</a>]   Mark Allman.  On the Generation and Use of TCP
             Acknowledgments. ACM Computer Communication Review, 29(3),
             July 1998.

   [<a name="ref-All99" id="ref-All99">All99</a>]   Mark Allman.  TCP Byte Counting Refinements. ACM Computer
             Communication Review, 29(3), July 1999.

   [<a name="ref-Jac88" id="ref-Jac88">Jac88</a>]   Van Jacobson.  Congestion Avoidance and Control.  ACM
             SIGCOMM 1988.

   [<a name="ref-Pax97" id="ref-Pax97">Pax97</a>]   Vern Paxson.  Automated Packet Trace Analysis of TCP
             Implementations.  ACM SIGCOMM, September 1997.

   [<a name="ref-RFC2018" id="ref-RFC2018">RFC2018</a>] Mathis, M., Mahdavi, J., Floyd, S. and A. Romanow, &quot;TCP
             Selective Acknowledgment Options&quot;, <a href="https://tools.ietf.org/html/rfc2018">RFC 2018</a>, October 1996.

   [<a name="ref-RFC2861" id="ref-RFC2861">RFC2861</a>] Handley, M., Padhye, J. and S. Floyd, &quot;TCP Congestion
             Window Validation&quot;, <a href="https://tools.ietf.org/html/rfc2861">RFC 2861</a>, June 2000.




<span class="grey">Allman                        Experimental                      [Page 8]</span></pre> 
   <hr class="noprint" style="width: 96ex;" align="left" />
   <!--NewPage-->
   <pre class="newpage"><a name="page-9" id="page-9" href="https://tools.ietf.org/html/rfc3465#page-9" class="invisible"> </a>
<span class="grey"><a href="https://tools.ietf.org/html/rfc3465">RFC 3465</a>            TCP Congestion Control with ABC        February 2003</span>


   [<a name="ref-SCWA99" id="ref-SCWA99">SCWA99</a>]  Stefan Savage, Neal Cardwell, David Wetherall, Tom
             Anderson.  TCP Congestion Control with a Misbehaving
             Receiver.  ACM Computer Communication Review, 29(5),
             October 1999.

Author's Address

   Mark Allman
   BBN Technologies/NASA Glenn Research Center
   Lewis Field
   21000 Brookpark Rd.  MS 54-5
   Cleveland, OH  44135

   Fax: 216-433-8705
   Phone: 216-433-6586
   EMail: mallman@bbn.com
   <a href="http://roland.grc.nasa.gov/~mallman">http://roland.grc.nasa.gov/~mallman</a>


































<span class="grey">Allman                        Experimental                      [Page 9]</span></pre> 
   <hr class="noprint" style="width: 96ex;" align="left" />
   <!--NewPage-->
   <pre class="newpage"><a name="page-10" id="page-10" href="https://tools.ietf.org/html/rfc3465#page-10" class="invisible"> </a>
<span class="grey"><a href="https://tools.ietf.org/html/rfc3465">RFC 3465</a>            TCP Congestion Control with ABC        February 2003</span>


Full Copyright Statement

   Copyright (C) The Internet Society (2003).  All Rights Reserved.

   This document and translations of it may be copied and furnished to
   others, and derivative works that comment on or otherwise explain it
   or assist in its implementation may be prepared, copied, published
   and distributed, in whole or in part, without restriction of any
   kind, provided that the above copyright notice and this paragraph are
   included on all such copies and derivative works.  However, this
   document itself may not be modified in any way, such as by removing
   the copyright notice or references to the Internet Society or other
   Internet organizations, except as needed for the purpose of
   developing Internet standards in which case the procedures for
   copyrights defined in the Internet Standards process must be
   followed, or as required to translate it into languages other than
   English.

   The limited permissions granted above are perpetual and will not be
   revoked by the Internet Society or its successors or assigns.

   This document and the information contained herein is provided on an
   &quot;AS IS&quot; basis and THE INTERNET SOCIETY AND THE INTERNET ENGINEERING
   TASK FORCE DISCLAIMS ALL WARRANTIES, EXPRESS OR IMPLIED, INCLUDING
   BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF THE INFORMATION
   HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED WARRANTIES OF
   MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.

Acknowledgement

   Funding for the RFC Editor function is currently provided by the
   Internet Society.



















Allman                        Experimental                     [Page 10]

</pre>
   <br /> 
   <span class="noprint"><small><small>Html markup produced by rfcmarkup 1.127, available from <a href="https://tools.ietf.org/tools/rfcmarkup/">https://tools.ietf.org/tools/rfcmarkup/</a> </small></small></span> 
  </div> 
 </body>
</html><html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
 <head profile="http://dublincore.org/documents/2008/08/04/dc-html/"> 
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /> 
  <meta name="robots" content="index,follow" /> 
  <meta name="creator" content="rfcmarkup version 1.127" /> 
  <link rel="schema.DC" href="http://purl.org/dc/elements/1.1/" /> 
  <meta name="DC.Relation.Replaces" content="rfc1893" /> 
  <meta name="DC.Identifier" content="urn:ietf:rfc:3463" /> 
  <meta name="DC.Date.Issued" content="January, 2003" /> 
  <meta name="DC.Creator" content="Gregory M. Vaudreuil &lt;gregv@ieee.org&gt;" /> 
  <meta name="DC.Description.Abstract" content="This document defines a set of extended status codes for use within
the mail system for delivery status reports, tracking, and improved
diagnostics. The in combination with other information provided in the
DSN delivery report, these codes facilitate media and language
independent rendering of message delivery status.  Working Group
Summary  RFC 1893 was a product of the Notary working group. This
document is a revision of that document providing clarifications as
necessary to advance to draft standard.  Document Conventions" /> 
  <meta name="DC.Title" content="Enhanced Mail System Status Codes" /> 
  <link rel="icon" href="/images/rfc.png" type="image/png" /> 
  <link rel="shortcut icon" href="/images/rfc.png" type="image/png" /> 
  <title>RFC 3463 - Enhanced Mail System Status Codes</title> 
  <style type="text/css">
	@media only screen 
	  and (min-width: 992px)
	  and (max-width: 1199px) {
	    body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-width: 768px)
	  and (max-width: 991px) {
            body { font-size: 14pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-width: 480px)
	  and (max-width: 767px) {
            body { font-size: 11pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (max-width: 479px) {
            body { font-size: 8pt; }
            div.content { width: 96ex; margin: 0 auto; }
        }
	@media only screen 
	  and (min-device-width : 375px) 
	  and (max-device-width : 667px) {
            body { font-size: 9.5pt; }
            div.content { width: 96ex; margin: 0 1px; }
        }
	@media only screen 
	  and (min-device-width: 1200px) {
            body { font-size: 10pt; margin: 0 4em; }
            div.content { width: 96ex; margin: 0; }
        }
        h1, h2, h3, h4, h5, h6, .h1, .h2, .h3, .h4, .h5, .h6 {
	    font-weight: bold;
            line-height: 0pt;
            display: inline;
            white-space: pre;
            font-family: monospace;
            font-size: 1em;
	    font-weight: bold;
        }
        pre {
            font-size: 1em;
            margin-top: 0px;
            margin-bottom: 0px;
        }
	.pre {
	    white-space: pre;
	    font-family: monospace;
	}
	.header{
	    font-weight: bold;
	}
        .newpage {
            page-break-before: always;
        }
        .invisible {
            text-decoration: none;
            color: white;
        }
        a.selflink {
          color: black;
          text-decoration: none;
        }
        @media print {
            body {
                font-family: monospace;
                font-size: 10.5pt;
            }
            h1, h2, h3, h4, h5, h6 {
                font-size: 1em;
            }
        
            a:link, a:visited {
                color: inherit;
                text-decoration: none;
            }
            .noprint {
                display: none;
            }
        }
	@media screen {
	    .grey, .grey a:link, .grey a:visited {
		color: #777;
	    }
            .docinfo {
                background-color: #EEE;
            }
            .top {
                border-top: 7px solid #EEE;
            }
            .bgwhite  { background-color: white; }
            .bgred    { background-color: #F44; }
            .bggrey   { background-color: #666; }
            .bgbrown  { background-color: #840; }            
            .bgorange { background-color: #FA0; }
            .bgyellow { background-color: #EE0; }
            .bgmagenta{ background-color: #F4F; }
            .bgblue   { background-color: #66F; }
            .bgcyan   { background-color: #4DD; }
            .bggreen  { background-color: #4F4; }

            .legend   { font-size: 90%; }
            .cplate   { font-size: 70%; border: solid grey 1px; }
	}
    </style> 
  <!--[if IE]>
    <style>
    body {
       font-size: 13px;
       margin: 10px 10px;
    }
    </style>
    <![endif]--> 
  <script type="text/javascript"><!--
    function addHeaderTags() {
	var spans = document.getElementsByTagName("span");
	for (var i=0; i < spans.length; i++) {
	    var elem = spans[i];
	    if (elem) {
		var level = elem.getAttribute("class");
                if (level == "h1" || level == "h2" || level == "h3" || level == "h4" || level == "h5" || level == "h6") {
                    elem.innerHTML = "<"+level+">"+elem.innerHTML+"</"+level+">";		
                }
	    }
	}
    }
    var legend_html = "Colour legend:<br />      <table>         <tr><td>Unknown:</td>                   <td><span class='cplate bgwhite'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Draft:</td>                     <td><span class='cplate bgred'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Informational:</td>             <td><span class='cplate bgorange'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Experimental:</td>              <td><span class='cplate bgyellow'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Best Common Practice:</td>      <td><span class='cplate bgmagenta'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Proposed Standard:</td>         <td><span class='cplate bgblue'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Draft Standard (old designation):</td> <td><span class='cplate bgcyan'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Internet Standard:</td>         <td><span class='cplate bggreen'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Historic:</td>                  <td><span class='cplate bggrey'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>         <tr><td>Obsolete:</td>                  <td><span class='cplate bgbrown'>&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>     </table>";
    function showElem(id) {
        var elem = document.getElementById(id);
        elem.innerHTML = eval(id+"_html");
        elem.style.visibility='visible';
    }
    function hideElem(id) {
        var elem = document.getElementById(id);
        elem.style.visibility='hidden';        
        elem.innerHTML = "";
    }
    // -->
    </script> 
 </head> 
 <body onload="addHeaderTags()"> 
  <div class="content"> 
   <div style="height: 13px;"> 
    <div onmouseover="this.style.cursor='pointer';" onclick="showElem('legend');" onmouseout="hideElem('legend')" style="height: 6px; position: absolute;" class="pre noprint docinfo bgcyan" title="Click for colour legend."> 
    </div> 
    <div id="legend" class="docinfo noprint pre legend" style="position:absolute; top: 4px; left: 4ex; visibility:hidden; background-color: white; padding: 4px 9px 5px 7px; border: solid #345 1px; " onmouseover="showElem('legend');" onmouseout="hideElem('legend');"> 
    </div> 
   </div> 
   <span class="pre noprint docinfo top">[<a href="https://tools.ietf.org/html/" title="Document search and retrieval page">Docs</a>] [<a href="https://tools.ietf.org/rfc/rfc3463.txt" title="Plaintext version of this document">txt</a>|<a href="https://tools.ietf.org/pdf/rfc3463" title="PDF version of this document">pdf</a>] [<a href="https://tools.ietf.org/html/draft-vaudreuil-1893bis" title="draft-vaudreuil-1893bis">draft-vaudreuil...</a>] [<a href="https://datatracker.ietf.org/doc/rfc3463" title="IESG Datatracker information for this document">Tracker</a>] [<a href="https://tools.ietf.org/rfcdiff?difftype=--hwdiff&amp;url2=rfc3463" title="Inline diff (wdiff)">Diff1</a>] [<a href="https://tools.ietf.org/rfcdiff?url2=rfc3463" title="Side-by-side diff">Diff2</a>] [<a href="https://www.rfc-editor.org/errata_search.php?rfc=3463">Errata</a>]</span>
   <br /> 
   <span class="pre noprint docinfo"> </span>
   <br /> 
   <span class="pre noprint docinfo">Updated by: <a href="https://tools.ietf.org/html/rfc3886">3886</a>, <a href="https://tools.ietf.org/html/rfc4468">4468</a>, <a href="https://tools.ietf.org/html/rfc4865">4865</a>, <a href="https://tools.ietf.org/html/rfc4954">4954</a>, <a href="https://tools.ietf.org/html/rfc5248">5248</a> DRAFT STANDARD</span>
   <br /> 
   <span class="pre noprint docinfo"> <span style="color: #C00;">Errata Exist</span></span>
   <br /> 
   <pre>Network Working Group                                       G. Vaudreuil
Request for Comments: 3463                           Lucent Technologies
Obsoletes: <a href="https://tools.ietf.org/html/rfc1893">1893</a>                                             January 2003
Category: Standards Track


                   <span class="h1"><h1>Enhanced Mail System Status Codes</h1></span>

Status of this Memo

   This document specifies an Internet standards track protocol for the
   Internet community, and requests discussion and suggestions for
   improvements.  Please refer to the current edition of the &quot;Internet
   Official Protocol Standards&quot; (STD 1) for the standardization state
   and status of this protocol.  Distribution of this memo is unlimited.

Copyright Notice

   Copyright (C) The Internet Society (2003).  All Rights Reserved.

Abstract

   This document defines a set of extended status codes for use within
   the mail system for delivery status reports, tracking, and improved
   diagnostics.  In combination with other information provided in the
   Delivery Status Notification (DSN) delivery report, these codes
   facilitate media and language independent rendering of message
   delivery status.

Table of Contents

   <a href="https://tools.ietf.org/html/rfc3463#section-1">1</a>.   Overview ......................................................<a href="https://tools.ietf.org/html/rfc3463#page-2">2</a>
   <a href="https://tools.ietf.org/html/rfc3463#section-2">2</a>.   Status Code Structure .........................................<a href="https://tools.ietf.org/html/rfc3463#page-3">3</a>
   <a href="https://tools.ietf.org/html/rfc3463#section-3">3</a>.   Enumerated Status Codes .......................................<a href="https://tools.ietf.org/html/rfc3463#page-5">5</a>
     <a href="https://tools.ietf.org/html/rfc3463#section-3.1">3.1</a>  Other or Undefined Status ...................................<a href="https://tools.ietf.org/html/rfc3463#page-6">6</a>
     <a href="https://tools.ietf.org/html/rfc3463#section-3.2">3.2</a>  Address Status ..............................................<a href="https://tools.ietf.org/html/rfc3463#page-6">6</a>
     <a href="https://tools.ietf.org/html/rfc3463#section-3.3">3.3</a>  Mailbox Status ..............................................<a href="https://tools.ietf.org/html/rfc3463#page-7">7</a>
     <a href="https://tools.ietf.org/html/rfc3463#section-3.4">3.4</a>  Mail system status ..........................................<a href="https://tools.ietf.org/html/rfc3463#page-8">8</a>
     <a href="https://tools.ietf.org/html/rfc3463#section-3.5">3.5</a>  Network and Routing Status ..................................<a href="https://tools.ietf.org/html/rfc3463#page-9">9</a>
     <a href="https://tools.ietf.org/html/rfc3463#section-3.6">3.6</a>  Mail Delivery Protocol Status ..............................<a href="https://tools.ietf.org/html/rfc3463#page-10">10</a>
     <a href="https://tools.ietf.org/html/rfc3463#section-3.7">3.7</a>  Message Content or Message Media Status ....................<a href="https://tools.ietf.org/html/rfc3463#page-11">11</a>
     <a href="https://tools.ietf.org/html/rfc3463#section-3.8">3.8</a>  Security or Policy Status ..................................<a href="https://tools.ietf.org/html/rfc3463#page-12">12</a>
   <a href="https://tools.ietf.org/html/rfc3463#section-4">4</a>.   References ...................................................<a href="https://tools.ietf.org/html/rfc3463#page-13">13</a>
   <a href="https://tools.ietf.org/html/rfc3463#section-5">5</a>.   Security Considerations ......................................<a href="https://tools.ietf.org/html/rfc3463#page-13">13</a>
        <a href="https://tools.ietf.org/html/rfc3463#appendix-A">Appendix A</a> - Collected Status Codes ..........................<a href="https://tools.ietf.org/html/rfc3463#page-14">14</a>
        <a href="https://tools.ietf.org/html/rfc3463#appendix-B">Appendix B</a> - Changes from <a href="https://tools.ietf.org/html/rfc1893">RFC1893</a> ............................<a href="https://tools.ietf.org/html/rfc3463#page-15">15</a>
        Author's Address .............................................<a href="https://tools.ietf.org/html/rfc3463#page-15">15</a>
        Full Copyright Statement .....................................<a href="https://tools.ietf.org/html/rfc3463#page-16">16</a>



<span class="grey">Vaudreuil                   Standards Track                     [Page 1]</span></pre> 
   <hr class="noprint" style="width: 96ex;" align="left" />
   <!--NewPage-->
   <pre class="newpage"><a name="page-2" id="page-2" href="https://tools.ietf.org/html/rfc3463#page-2" class="invisible"> </a>
<span class="grey"><a href="https://tools.ietf.org/html/rfc3463">RFC 3463</a>           Enhanced Mail System Status Codes        January 2003</span>


<span class="h2"><h2><a class="selflink" name="section-1" href="https://tools.ietf.org/html/rfc3463#section-1">1</a>. Overview</h2></span>

   There is a need for a standard mechanism for the reporting of mail
   system errors richer than the limited set offered by SMTP and the
   system specific text descriptions sent in mail messages.  There is a
   pressing need for a rich machine-readable, human language independent
   status code for use in delivery status notifications [<a href="https://tools.ietf.org/html/rfc3463#ref-DSN" title="&quot;An Extensible Message Format for Delivery Status Notifications&quot;">DSN</a>].  This
   document proposes a new set of status codes for this purpose.

   SMTP [<a href="https://tools.ietf.org/html/rfc3463#ref-SMTP" title="&quot;Simple Mail Transfer Protocol&quot;">SMTP</a>] error codes have historically been used for reporting
   mail system errors.  Because of limitations in the SMTP code design,
   these are not suitable for use in delivery status notifications.
   SMTP provides about 12 useful codes for delivery reports.  The
   majority of the codes are protocol specific response codes such as
   the 354 response to the SMTP data command.  Each of the 12 useful
   codes are overloaded to indicate several error conditions.  SMTP
   suffers some scars from history, most notably the unfortunate damage
   to the reply code extension mechanism by uncontrolled use.  This
   proposal facilitates future extensibility by requiring the client to
   interpret unknown error codes according to the theory of codes while
   requiring servers to register new response codes.

   The SMTP theory of reply codes are partitioned in the number space in
   such a manner that the remaining available codes will not provide the
   space needed.  The most critical example is the existence of only 5
   remaining codes for mail system errors.  The mail system
   classification includes both host and mailbox error conditions.  The
   remaining third digit space would be completely consumed as needed to
   indicate MIME and media conversion errors and security system errors.

   A revision to the SMTP theory of reply codes to better distribute the
   error conditions in the number space will necessarily be incompatible
   with SMTP.  Further, consumption of the remaining reply-code number
   space for delivery notification reporting will reduce the available
   codes for new ESMTP extensions.

   The following status code set is based on the SMTP theory of reply
   codes.  It adopts the success, permanent error, and transient error
   semantics of the first value, with a further description and
   classification in the second.  This proposal re-distributes the
   classifications to better distribute the error conditions, such as
   separating mailbox from host errors.

   Document Conventions

   The key words &quot;MUST&quot;, &quot;MUST NOT&quot;, &quot;REQUIRED&quot;, &quot;SHALL&quot;, &quot;SHALL NOT&quot;,
   &quot;SHOULD&quot;, &quot;SHOULD NOT&quot;, &quot;RECOMMENDED&quot;, &quot;MAY&quot;, and &quot;OPTIONAL&quot; in this
   document are to be interpreted as described in <a href="https://tools.ietf.org/html/bcp14">BCP 14</a> [<a href="https://tools.ietf.org/html/rfc2119" title="&quot;Key words for use in RFCs to Indicate Requirement Levels&quot;">RFC2119</a>].



<span class="grey">Vaudreuil                   Standards Track                     [Page 2]</span></pre> 
   <hr class="noprint" style="width: 96ex;" align="left" />
   <!--NewPage-->
   <pre class="newpage"><a name="page-3" id="page-3" href="https://tools.ietf.org/html/rfc3463#page-3" class="invisible"> </a>
<span class="grey"><a href="https://tools.ietf.org/html/rfc3463">RFC 3463</a>           Enhanced Mail System Status Codes        January 2003</span>


<span class="h2"><h2><a class="selflink" name="section-2" href="https://tools.ietf.org/html/rfc3463#section-2">2</a>. Status Code Structure</h2></span>

   This document defines a new set of status codes to report mail system
   conditions.  These status codes are used for media and language
   independent status reporting.  They are not intended for system
   specific diagnostics.

   The syntax of the new status codes is defined as:

      status-code = class &quot;.&quot; subject &quot;.&quot; detail

      class = &quot;2&quot;/&quot;4&quot;/&quot;5&quot;

      subject = 1*3digit

      detail = 1*3digit

   White-space characters and comments are NOT allowed within a status-
   code.  Each numeric sub-code within the status-code MUST be expressed
   without leading zero digits.

   Status codes consist of three numerical fields separated by &quot;.&quot;.  The
   first sub-code indicates whether the delivery attempt was successful.
   The second sub-code indicates the probable source of any delivery
   anomalies, and the third sub-code indicates a precise error
   condition.

   Example:  2.1.23

   The code space defined is intended to be extensible only by standards
   track documents.  Mail system specific status codes should be mapped
   as close as possible to the standard status codes.  Servers should
   send only defined, registered status codes.  System specific errors
   and diagnostics should be carried by means other than status codes.

   New subject and detail codes will be added over time.  Because the
   number space is large, it is not intended that published status codes
   will ever be redefined or eliminated.  Clients should preserve the
   extensibility of the code space by reporting the general error
   described in the subject sub-code when the specific detail is
   unrecognized.










<span class="grey">Vaudreuil                   Standards Track                     [Page 3]</span></pre> 
   <hr class="noprint" style="width: 96ex;" align="left" />
   <!--NewPage-->
   <pre class="newpage"><a name="page-4" id="page-4" href="https://tools.ietf.org/html/rfc3463#page-4" class="invisible"> </a>
<span class="grey"><a href="https://tools.ietf.org/html/rfc3463">RFC 3463</a>           Enhanced Mail System Status Codes        January 2003</span>


   The class sub-code provides a broad classification of the status.
   The enumerated values for each class are defined as:

      2.XXX.XXX   Success

         Success specifies that the DSN is reporting a positive delivery
         action.  Detail sub-codes may provide notification of
         transformations required for delivery.

      4.XXX.XXX   Persistent Transient Failure

         A persistent transient failure is one in which the message as
         sent is valid, but persistence of some temporary condition has
         caused abandonment or delay of attempts to send the message.
         If this code accompanies a delivery failure report, sending in
         the future may be successful.

      5.XXX.XXX   Permanent Failure

         A permanent failure is one which is not likely to be resolved
         by resending the message in the current form.  Some change to
         the message or the destination must be made for successful
         delivery.

   A client must recognize and report class sub-code even where
   subsequent subject sub-codes are unrecognized.

   The subject sub-code classifies the status.  This value applies to
   each of the three classifications.  The subject sub-code, if
   recognized, must be reported even if the additional detail provided
   by the detail sub-code is not recognized.  The enumerated values for
   the subject sub-code are:

      X.0.XXX   Other or Undefined Status

         There is no additional subject information available.

      X.1.XXX Addressing Status

         The address status reports on the originator or destination
         address.  It may include address syntax or validity.  These
         errors can generally be corrected by the sender and retried.

      X.2.XXX Mailbox Status

         Mailbox status indicates that something having to do with the
         mailbox has caused this DSN.  Mailbox issues are assumed to be
         under the general control of the recipient.



<span class="grey">Vaudreuil                   Standards Track                     [Page 4]</span></pre> 
   <hr class="noprint" style="width: 96ex;" align="left" />
   <!--NewPage-->
   <pre class="newpage"><a name="page-5" id="page-5" href="https://tools.ietf.org/html/rfc3463#page-5" class="invisible"> </a>
<span class="grey"><a href="https://tools.ietf.org/html/rfc3463">RFC 3463</a>           Enhanced Mail System Status Codes        January 2003</span>


      X.3.XXX Mail System Status

         Mail system status indicates that something having to do with
         the destination system has caused this DSN.  System issues are
         assumed to be under the general control of the destination
         system administrator.

      X.4.XXX Network and Routing Status

         The networking or routing codes report status about the
         delivery system itself.  These system components include any
         necessary infrastructure such as directory and routing
         services.  Network issues are assumed to be under the control
         of the destination or intermediate system administrator.

      X.5.XXX Mail Delivery Protocol Status

         The mail delivery protocol status codes report failures
         involving the message delivery protocol.  These failures
         include the full range of problems resulting from
         implementation errors or an unreliable connection.

      X.6.XXX Message Content or Media Status

         The message content or media status codes report failures
         involving the content of the message.  These codes report
         failures due to translation, transcoding, or otherwise
         unsupported message media.  Message content or media issues are
         under the control of both the sender and the receiver, both of
         which must support a common set of supported content-types.

      X.7.XXX Security or Policy Status

         The security or policy status codes report failures involving
         policies such as per-recipient or per-host filtering and
         cryptographic operations.  Security and policy status issues
         are assumed to be under the control of either or both the
         sender and recipient.  Both the sender and recipient must
         permit the exchange of messages and arrange the exchange of
         necessary keys and certificates for cryptographic operations.

<span class="h2"><h2><a class="selflink" name="section-3" href="https://tools.ietf.org/html/rfc3463#section-3">3</a>. Enumerated Status Codes</h2></span>

   The following section defines and describes the detail sub-code.  The
   detail value provides more information about the status and is
   defined relative to the subject of the status.





<span class="grey">Vaudreuil                   Standards Track                     [Page 5]</span></pre> 
   <hr class="noprint" style="width: 96ex;" align="left" />
   <!--NewPage-->
   <pre class="newpage"><a name="page-6" id="page-6" href="https://tools.ietf.org/html/rfc3463#page-6" class="invisible"> </a>
<span class="grey"><a href="https://tools.ietf.org/html/rfc3463">RFC 3463</a>           Enhanced Mail System Status Codes        January 2003</span>


<span class="h3"><h3><a class="selflink" name="section-3.1" href="https://tools.ietf.org/html/rfc3463#section-3.1">3.1</a> Other or Undefined Status</h3></span>

      X.0.0   Other undefined Status

         Other undefined status is the only undefined error code.  It
         should be used for all errors for which only the class of the
         error is known.

<span class="h3"><h3><a class="selflink" name="section-3.2" href="https://tools.ietf.org/html/rfc3463#section-3.2">3.2</a> Address Status</h3></span>

      X.1.0   Other address status

         Something about the address specified in the message caused
         this DSN.

      X.1.1   Bad destination mailbox address

         The mailbox specified in the address does not exist.  For
         Internet mail names, this means the address portion to the left
         of the &quot;@&quot; sign is invalid.  This code is only useful for
         permanent failures.

      X.1.2   Bad destination system address

         The destination system specified in the address does not exist
         or is incapable of accepting mail.  For Internet mail names,
         this means the address portion to the right of the &quot;@&quot; is
         invalid for mail.  This code is only useful for permanent
         failures.

      X.1.3   Bad destination mailbox address syntax

         The destination address was syntactically invalid.  This can
         apply to any field in the address.  This code is only useful
         for permanent failures.

      X.1.4   Destination mailbox address ambiguous

         The mailbox address as specified matches one or more recipients
         on the destination system.  This may result if a heuristic
         address mapping algorithm is used to map the specified address
         to a local mailbox name.

      X.1.5   Destination address valid

         This mailbox address as specified was valid.  This status code
         should be used for positive delivery reports.




<span class="grey">Vaudreuil                   Standards Track                     [Page 6]</span></pre> 
   <hr class="noprint" style="width: 96ex;" align="left" />
   <!--NewPage-->
   <pre class="newpage"><a name="page-7" id="page-7" href="https://tools.ietf.org/html/rfc3463#page-7" class="invisible"> </a>
<span class="grey"><a href="https://tools.ietf.org/html/rfc3463">RFC 3463</a>           Enhanced Mail System Status Codes        January 2003</span>


      X.1.6   Destination mailbox has moved, No forwarding address

         The mailbox address provided was at one time valid, but mail is
         no longer being accepted for that address.  This code is only
         useful for permanent failures.

      X.1.7   Bad sender's mailbox address syntax

         The sender's address was syntactically invalid.  This can apply
         to any field in the address.

      X.1.8   Bad sender's system address

         The sender's system specified in the address does not exist or
         is incapable of accepting return mail.  For domain names, this
         means the address portion to the right of the &quot;@&quot; is invalid
         for mail.

<span class="h3"><h3><a class="selflink" name="section-3.3" href="https://tools.ietf.org/html/rfc3463#section-3.3">3.3</a> Mailbox Status</h3></span>

      X.2.0   Other or undefined mailbox status

         The mailbox exists, but something about the destination mailbox
         has caused the sending of this DSN.

      X.2.1   Mailbox disabled, not accepting messages

         The mailbox exists, but is not accepting messages.  This may be
         a permanent error if the mailbox will never be re-enabled or a
         transient error if the mailbox is only temporarily disabled.

      X.2.2   Mailbox full

         The mailbox is full because the user has exceeded a per-mailbox
         administrative quota or physical capacity.  The general
         semantics implies that the recipient can delete messages to
         make more space available.  This code should be used as a
         persistent transient failure.

      X.2.3   Message length exceeds administrative limit

         A per-mailbox administrative message length limit has been
         exceeded.  This status code should be used when the per-mailbox
         message length limit is less than the general system limit.
         This code should be used as a permanent failure.






<span class="grey">Vaudreuil                   Standards Track                     [Page 7]</span></pre> 
   <hr class="noprint" style="width: 96ex;" align="left" />
   <!--NewPage-->
   <pre class="newpage"><a name="page-8" id="page-8" href="https://tools.ietf.org/html/rfc3463#page-8" class="invisible"> </a>
<span class="grey"><a href="https://tools.ietf.org/html/rfc3463">RFC 3463</a>           Enhanced Mail System Status Codes        January 2003</span>


      X.2.4   Mailing list expansion problem

         The mailbox is a mailing list address and the mailing list was
         unable to be expanded.  This code may represent a permanent
         failure or a persistent transient failure.

<span class="h3"><h3><a class="selflink" name="section-3.4" href="https://tools.ietf.org/html/rfc3463#section-3.4">3.4</a> Mail system status</h3></span>

      X.3.0   Other or undefined mail system status

         The destination system exists and normally accepts mail, but
         something about the system has caused the generation of this
         DSN.

      X.3.1   Mail system full

         Mail system storage has been exceeded.  The general semantics
         imply that the individual recipient may not be able to delete
         material to make room for additional messages.  This is useful
         only as a persistent transient error.

      X.3.2   System not accepting network messages

         The host on which the mailbox is resident is not accepting
         messages.  Examples of such conditions include an immanent
         shutdown, excessive load, or system maintenance.  This is
         useful for both permanent and persistent transient errors.

      X.3.3   System not capable of selected features

         Selected features specified for the message are not supported
         by the destination system.  This can occur in gateways when
         features from one domain cannot be mapped onto the supported
         feature in another.

      X.3.4   Message too big for system

         The message is larger than per-message size limit.  This limit
         may either be for physical or administrative reasons.  This is
         useful only as a permanent error.

      X.3.5 System incorrectly configured

         The system is not configured in a manner that will permit it to
         accept this message.






<span class="grey">Vaudreuil                   Standards Track                     [Page 8]</span></pre> 
   <hr class="noprint" style="width: 96ex;" align="left" />
   <!--NewPage-->
   <pre class="newpage"><a name="page-9" id="page-9" href="https://tools.ietf.org/html/rfc3463#page-9" class="invisible"> </a>
<span class="grey"><a href="https://tools.ietf.org/html/rfc3463">RFC 3463</a>           Enhanced Mail System Status Codes        January 2003</span>


<span class="h3"><h3><a class="selflink" name="section-3.5" href="https://tools.ietf.org/html/rfc3463#section-3.5">3.5</a> Network and Routing Status</h3></span>

      X.4.0   Other or undefined network or routing status

         Something went wrong with the networking, but it is not clear
         what the problem is, or the problem cannot be well expressed
         with any of the other provided detail codes.

      X.4.1   No answer from host

         The outbound connection attempt was not answered, because
         either the remote system was busy, or was unable to take a
         call.  This is useful only as a persistent transient error.

      X.4.2   Bad connection

         The outbound connection was established, but was unable to
         complete the message transaction, either because of time-out,
         or inadequate connection quality.  This is useful only as a
         persistent transient error.

      X.4.3   Directory server failure

         The network system was unable to forward the message, because a
         directory server was unavailable.  This is useful only as a
         persistent transient error.

         The inability to connect to an Internet DNS server is one
         example of the directory server failure error.

      X.4.4   Unable to route

         The mail system was unable to determine the next hop for the
         message because the necessary routing information was
         unavailable from the directory server.  This is useful for both
         permanent and persistent transient errors.

         A DNS lookup returning only an SOA (Start of Administration)
         record for a domain name is one example of the unable to route
         error.

      X.4.5   Mail system congestion

         The mail system was unable to deliver the message because the
         mail system was congested.  This is useful only as a persistent
         transient error.





<span class="grey">Vaudreuil                   Standards Track                     [Page 9]</span></pre> 
   <hr class="noprint" style="width: 96ex;" align="left" />
   <!--NewPage-->
   <pre class="newpage"><a name="page-10" id="page-10" href="https://tools.ietf.org/html/rfc3463#page-10" class="invisible"> </a>
<span class="grey"><a href="https://tools.ietf.org/html/rfc3463">RFC 3463</a>           Enhanced Mail System Status Codes        January 2003</span>


      X.4.6   Routing loop detected

         A routing loop caused the message to be forwarded too many
         times, either because of incorrect routing tables or a user-
         forwarding loop.  This is useful only as a persistent transient
         error.

      X.4.7   Delivery time expired

         The message was considered too old by the rejecting system,
         either because it remained on that host too long or because the
         time-to-live value specified by the sender of the message was
         exceeded.  If possible, the code for the actual problem found
         when delivery was attempted should be returned rather than this
         code.

<span class="h3"><h3><a class="selflink" name="section-3.6" href="https://tools.ietf.org/html/rfc3463#section-3.6">3.6</a> Mail Delivery Protocol Status</h3></span>

      X.5.0   Other or undefined protocol status

         Something was wrong with the protocol necessary to deliver the
         message to the next hop and the problem cannot be well
         expressed with any of the other provided detail codes.

      X.5.1   Invalid command

         A mail transaction protocol command was issued which was either
         out of sequence or unsupported.  This is useful only as a
         permanent error.

      X.5.2   Syntax error

         A mail transaction protocol command was issued which could not
         be interpreted, either because the syntax was wrong or the
         command is unrecognized.  This is useful only as a permanent
         error.

      X.5.3   Too many recipients

         More recipients were specified for the message than could have
         been delivered by the protocol.  This error should normally
         result in the segmentation of the message into two, the
         remainder of the recipients to be delivered on a subsequent
         delivery attempt.  It is included in this list in the event
         that such segmentation is not possible.






<span class="grey">Vaudreuil                   Standards Track                    [Page 10]</span></pre> 
   <hr class="noprint" style="width: 96ex;" align="left" />
   <!--NewPage-->
   <pre class="newpage"><a name="page-11" id="page-11" href="https://tools.ietf.org/html/rfc3463#page-11" class="invisible"> </a>
<span class="grey"><a href="https://tools.ietf.org/html/rfc3463">RFC 3463</a>           Enhanced Mail System Status Codes        January 2003</span>


      X.5.4   Invalid command arguments

         A valid mail transaction protocol command was issued with
         invalid arguments, either because the arguments were out of
         range or represented unrecognized features.  This is useful
         only as a permanent error.

      X.5.5   Wrong protocol version

         A protocol version mis-match existed which could not be
         automatically resolved by the communicating parties.

<span class="h3"><h3><a class="selflink" name="section-3.7" href="https://tools.ietf.org/html/rfc3463#section-3.7">3.7</a> Message Content or Message Media Status</h3></span>

      X.6.0   Other or undefined media error

         Something about the content of a message caused it to be
         considered undeliverable and the problem cannot be well
         expressed with any of the other provided detail codes.

      X.6.1   Media not supported

         The media of the message is not supported by either the
         delivery protocol or the next system in the forwarding path.
         This is useful only as a permanent error.

      X.6.2   Conversion required and prohibited

         The content of the message must be converted before it can be
         delivered and such conversion is not permitted.  Such
         prohibitions may be the expression of the sender in the message
         itself or the policy of the sending host.

      X.6.3   Conversion required but not supported

         The message content must be converted in order to be forwarded
         but such conversion is not possible or is not practical by a
         host in the forwarding path.  This condition may result when an
         ESMTP gateway supports 8bit transport but is not able to
         downgrade the message to 7 bit as required for the next hop.

      X.6.4   Conversion with loss performed

         This is a warning sent to the sender when message delivery was
         successfully but when the delivery required a conversion in
         which some data was lost.  This may also be a permanent error
         if the sender has indicated that conversion with loss is
         prohibited for the message.



<span class="grey">Vaudreuil                   Standards Track                    [Page 11]</span></pre> 
   <hr class="noprint" style="width: 96ex;" align="left" />
   <!--NewPage-->
   <pre class="newpage"><a name="page-12" id="page-12" href="https://tools.ietf.org/html/rfc3463#page-12" class="invisible"> </a>
<span class="grey"><a href="https://tools.ietf.org/html/rfc3463">RFC 3463</a>           Enhanced Mail System Status Codes        January 2003</span>


      X.6.5   Conversion Failed

         A conversion was required but was unsuccessful.  This may be
         useful as a permanent or persistent temporary notification.

<span class="h3"><h3><a class="selflink" name="section-3.8" href="https://tools.ietf.org/html/rfc3463#section-3.8">3.8</a> Security or Policy Status</h3></span>

      X.7.0   Other or undefined security status

         Something related to security caused the message to be
         returned, and the problem cannot be well expressed with any of
         the other provided detail codes.  This status code may also be
         used when the condition cannot be further described because of
         security policies in force.

      X.7.1   Delivery not authorized, message refused

         The sender is not authorized to send to the destination.  This
         can be the result of per-host or per-recipient filtering.  This
         memo does not discuss the merits of any such filtering, but
         provides a mechanism to report such.  This is useful only as a
         permanent error.

      X.7.2   Mailing list expansion prohibited

         The sender is not authorized to send a message to the intended
         mailing list.  This is useful only as a permanent error.

      X.7.3   Security conversion required but not possible

         A conversion from one secure messaging protocol to another was
         required for delivery and such conversion was not possible.
         This is useful only as a permanent error.

      X.7.4   Security features not supported

         A message contained security features such as secure
         authentication that could not be supported on the delivery
         protocol.  This is useful only as a permanent error.

      X.7.5   Cryptographic failure

         A transport system otherwise authorized to validate or decrypt
         a message in transport was unable to do so because necessary
         information such as key was not available or such information
         was invalid.





<span class="grey">Vaudreuil                   Standards Track                    [Page 12]</span></pre> 
   <hr class="noprint" style="width: 96ex;" align="left" />
   <!--NewPage-->
   <pre class="newpage"><a name="page-13" id="page-13" href="https://tools.ietf.org/html/rfc3463#page-13" class="invisible"> </a>
<span class="grey"><a href="https://tools.ietf.org/html/rfc3463">RFC 3463</a>           Enhanced Mail System Status Codes        January 2003</span>


      X.7.6   Cryptographic algorithm not supported

         A transport system otherwise authorized to validate or decrypt
         a message was unable to do so because the necessary algorithm
         was not supported.

      X.7.7   Message integrity failure

         A transport system otherwise authorized to validate a message
         was unable to do so because the message was corrupted or
         altered.  This may be useful as a permanent, transient
         persistent, or successful delivery code.

<span class="h2"><h2><a class="selflink" name="section-4" href="https://tools.ietf.org/html/rfc3463#section-4">4</a>. Normative References</h2></span>

   [<a name="ref-RFC2119" id="ref-RFC2119">RFC2119</a>] Bradner, S., &quot;Key words for use in RFCs to Indicate
             Requirement Levels&quot;, <a href="https://tools.ietf.org/html/bcp14">BCP 14</a>, <a href="https://tools.ietf.org/html/rfc2119">RFC 2119</a>, March 1997.

   [<a name="ref-SMTP" id="ref-SMTP">SMTP</a>]    Postel, J., &quot;Simple Mail Transfer Protocol&quot;, STD 10, <a href="https://tools.ietf.org/html/rfc821">RFC</a>
             <a href="https://tools.ietf.org/html/rfc821">821</a>, August 1982.

   [<a name="ref-DSN" id="ref-DSN">DSN</a>]     Moore, K. and G. Vaudreuil, &quot;An Extensible Message Format
             for Delivery Status Notifications&quot;, <a href="https://tools.ietf.org/html/rfc3464">RFC 3464</a>, January 2003.

<span class="h2"><h2><a class="selflink" name="section-5" href="https://tools.ietf.org/html/rfc3463#section-5">5</a>. Security Considerations</h2></span>

   This document describes a status code system with increased
   precision.  Use of these status codes may disclose additional
   information about how an internal mail system is implemented beyond
   that currently available.





















<span class="grey">Vaudreuil                   Standards Track                    [Page 13]</span></pre> 
   <hr class="noprint" style="width: 96ex;" align="left" />
   <!--NewPage-->
   <pre class="newpage"><a name="page-14" id="page-14" href="https://tools.ietf.org/html/rfc3463#page-14" class="invisible"> </a>
<span class="grey"><a href="https://tools.ietf.org/html/rfc3463">RFC 3463</a>           Enhanced Mail System Status Codes        January 2003</span>


Appendix A - Collected Status Codes

         X.1.0     Other address status
         X.1.1     Bad destination mailbox address
         X.1.2     Bad destination system address
         X.1.3     Bad destination mailbox address syntax
         X.1.4     Destination mailbox address ambiguous
         X.1.5     Destination mailbox address valid
         X.1.6     Mailbox has moved
         X.1.7     Bad sender's mailbox address syntax
         X.1.8     Bad sender's system address

         X.2.0     Other or undefined mailbox status
         X.2.1     Mailbox disabled, not accepting messages
         X.2.2     Mailbox full
         X.2.3     Message length exceeds administrative limit.
         X.2.4     Mailing list expansion problem

         X.3.0     Other or undefined mail system status
         X.3.1     Mail system full
         X.3.2     System not accepting network messages
         X.3.3     System not capable of selected features
         X.3.4     Message too big for system

         X.4.0     Other or undefined network or routing status
         X.4.1     No answer from host
         X.4.2     Bad connection
         X.4.3     Routing server failure
         X.4.4     Unable to route
         X.4.5     Network congestion
         X.4.6     Routing loop detected
         X.4.7     Delivery time expired

         X.5.0     Other or undefined protocol status
         X.5.1     Invalid command
         X.5.2     Syntax error
         X.5.3     Too many recipients
         X.5.4     Invalid command arguments
         X.5.5     Wrong protocol version

         X.6.0     Other or undefined media error
         X.6.1     Media not supported
         X.6.2     Conversion required and prohibited
         X.6.3     Conversion required but not supported
         X.6.4     Conversion with loss performed
         X.6.5     Conversion failed





<span class="grey">Vaudreuil                   Standards Track                    [Page 14]</span></pre> 
   <hr class="noprint" style="width: 96ex;" align="left" />
   <!--NewPage-->
   <pre class="newpage"><a name="page-15" id="page-15" href="https://tools.ietf.org/html/rfc3463#page-15" class="invisible"> </a>
<span class="grey"><a href="https://tools.ietf.org/html/rfc3463">RFC 3463</a>           Enhanced Mail System Status Codes        January 2003</span>


         X.7.0     Other or undefined security status
         X.7.1     Delivery not authorized, message refused
         X.7.2     Mailing list expansion prohibited
         X.7.3     Security conversion required but not possible
         X.7.4     Security features not supported
         X.7.5     Cryptographic failure
         X.7.6     Cryptographic algorithm not supported
         X.7.7     Message integrity failure

Appendix B - Changes from <a href="https://tools.ietf.org/html/rfc1893">RFC1893</a>

   Changed Authors contact information.

   Updated required standards boilerplate.

   Edited the text to make it spell-checker and grammar checker
   compliant.

   Modified the text describing the persistent transient failure to more
   closely reflect current practice and understanding.

   Eliminated the restriction on the X.4.7 codes limiting them to
   persistent transient errors.

Author's Address

   Gregory M. Vaudreuil
   Lucent Technologies
   7291 Williamson Rd
   Dallas, Tx. 75214

   Phone: +1 214 823 9325
   EMail: GregV@ieee.org


















<span class="grey">Vaudreuil                   Standards Track                    [Page 15]</span></pre> 
   <hr class="noprint" style="width: 96ex;" align="left" />
   <!--NewPage-->
   <pre class="newpage"><a name="page-16" id="page-16" href="https://tools.ietf.org/html/rfc3463#page-16" class="invisible"> </a>
<span class="grey"><a href="https://tools.ietf.org/html/rfc3463">RFC 3463</a>           Enhanced Mail System Status Codes        January 2003</span>


Full Copyright Statement

   Copyright (C) The Internet Society (2003).  All Rights Reserved.

   This document and translations of it may be copied and furnished to
   others, and derivative works that comment on or otherwise explain it
   or assist in its implementation may be prepared, copied, published
   and distributed, in whole or in part, without restriction of any
   kind, provided that the above copyright notice and this paragraph are
   included on all such copies and derivative works.  However, this
   document itself may not be modified in any way, such as by removing
   the copyright notice or references to the Internet Society or other
   Internet organizations, except as needed for the purpose of
   developing Internet standards in which case the procedures for
   copyrights defined in the Internet Standards process must be
   followed, or as required to translate it into languages other than
   English.

   The limited permissions granted above are perpetual and will not be
   revoked by the Internet Society or its successors or assigns.

   This document and the information contained herein is provided on an
   &quot;AS IS&quot; basis and THE INTERNET SOCIETY AND THE INTERNET ENGINEERING
   TASK FORCE DISCLAIMS ALL WARRANTIES, EXPRESS OR IMPLIED, INCLUDING
   BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF THE INFORMATION
   HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED WARRANTIES OF
   MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.

Acknowledgement

   Funding for the RFC Editor function is currently provided by the
   Internet Society.



















Vaudreuil                   Standards Track                    [Page 16]

</pre>
   <br /> 
   <span class="noprint"><small><small>Html markup produced by rfcmarkup 1.127, available from <a href="https://tools.ietf.org/tools/rfcmarkup/">https://tools.ietf.org/tools/rfcmarkup/</a> </small></small></span> 
  </div> 
 </body>
</html>